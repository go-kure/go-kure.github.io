<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.2">
    <meta name="generator" content="Relearn 8.0.0+9803d5122ebb3276acea823f476e9eb44f607862">
    <meta name="description" content="Patch Package Documentation The patch package implements a powerful JSONPath-based declarative patching system for Kubernetes resources. It allows you to modify resources while preserving YAML structure, comments, and formatting.
Documentation Patch File Format Specification Complete specification of the .kpatch file format, including:
Syntax and structure Scope selection Operation types Examples and best practices Patch Engine Design Technical design documentation covering:
Architecture overview Processing pipeline Implementation details Performance considerations Path Resolution Detailed explanation of how paths are resolved:">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Patch Package :: Go Kure">
    <meta name="twitter:description" content="Patch Package Documentation The patch package implements a powerful JSONPath-based declarative patching system for Kubernetes resources. It allows you to modify resources while preserving YAML structure, comments, and formatting.
Documentation Patch File Format Specification Complete specification of the .kpatch file format, including:
Syntax and structure Scope selection Operation types Examples and best practices Patch Engine Design Technical design documentation covering:
Architecture overview Processing pipeline Implementation details Performance considerations Path Resolution Detailed explanation of how paths are resolved:">
    <meta property="og:url" content="http://localhost:1313/packages/patch/index.html">
    <meta property="og:site_name" content="Go Kure">
    <meta property="og:title" content="Patch Package :: Go Kure">
    <meta property="og:description" content="Patch Package Documentation The patch package implements a powerful JSONPath-based declarative patching system for Kubernetes resources. It allows you to modify resources while preserving YAML structure, comments, and formatting.
Documentation Patch File Format Specification Complete specification of the .kpatch file format, including:
Syntax and structure Scope selection Operation types Examples and best practices Patch Engine Design Technical design documentation covering:
Architecture overview Processing pipeline Implementation details Performance considerations Path Resolution Detailed explanation of how paths are resolved:">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="Patch Package :: Go Kure">
    <meta itemprop="description" content="Patch Package Documentation The patch package implements a powerful JSONPath-based declarative patching system for Kubernetes resources. It allows you to modify resources while preserving YAML structure, comments, and formatting.
Documentation Patch File Format Specification Complete specification of the .kpatch file format, including:
Syntax and structure Scope selection Operation types Examples and best practices Patch Engine Design Technical design documentation covering:
Architecture overview Processing pipeline Implementation details Performance considerations Path Resolution Detailed explanation of how paths are resolved:">
    <meta itemprop="wordCount" content="202">
    <title>Patch Package :: Go Kure</title>
    <link href="/packages/patch/index.xml" rel="alternate" type="application/rss+xml" title="Patch Package :: Go Kure">
    <link href="/css/auto-complete/auto-complete.min.css?1754413063" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1754413063" defer></script>
    <script src="/js/search-lunr.js?1754413063" defer></script>
    <script src="/js/search.js?1754413063" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/searchindex.en.js?1754413063";
    </script>
    <script src="/js/lunr/lunr.min.js?1754413063" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1754413063" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1754413063" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1754413063" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1754413063" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1754413063" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1754413063" rel="stylesheet">
    <link href="/css/theme.css?1754413063" rel="stylesheet">
    <link href="/css/format-html.css?1754413063" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = ``;
      window.relearn.path='\/packages\/patch\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'relearn-dark' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script><div class="notices warning" style="margin-bottom: 1rem;">
    <div class="label">⚠️ Work in Progress</div>
    <div class="content">Kure is currently under active development and has not been released yet. APIs and features are subject to change.</div>
</div>
  </head>
  <body class="mobile-support html" data-url="/packages/patch/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#documentation">Documentation</a>
      <ul>
        <li><a href="#patch-file-format-specification"><a href="/packages/patch/design">Patch File Format Specification</a></a></li>
        <li><a href="#patch-engine-design"><a href="/packages/patch/patch-engine-design">Patch Engine Design</a></a></li>
        <li><a href="#path-resolution"><a href="/packages/patch/path-resolution">Path Resolution</a></a></li>
        <li><a href="#error-handling"><a href="/packages/patch/error-handling">Error Handling</a></a></li>
      </ul>
    </li>
    <li><a href="#quick-example">Quick Example</a></li>
    <li><a href="#features">Features</a></li>
    <li><a href="#getting-started">Getting Started</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/index.html"><span itemprop="name">Go Kure</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/packages/index.html"><span itemprop="name">Packages</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Patch Package</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/packages/index.html" title="Packages (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/examples/index.html" title="Examples (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable packages" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="patch-package">Patch Package</h1>

<h1 id="patch-package-documentation">Patch Package Documentation</h1>
<p>The patch package implements a powerful JSONPath-based declarative patching system for Kubernetes resources. It allows you to modify resources while preserving YAML structure, comments, and formatting.</p>
<h2 id="documentation">Documentation</h2>
<h3 id="patch-file-format-specification"><a href="/packages/patch/design/index.html">Patch File Format Specification</a></h3>
<p>Complete specification of the <code>.kpatch</code> file format, including:</p>
<ul>
<li>Syntax and structure</li>
<li>Scope selection</li>
<li>Operation types</li>
<li>Examples and best practices</li>
</ul>
<h3 id="patch-engine-design"><a href="/packages/patch/patch-engine-design/index.html">Patch Engine Design</a></h3>
<p>Technical design documentation covering:</p>
<ul>
<li>Architecture overview</li>
<li>Processing pipeline</li>
<li>Implementation details</li>
<li>Performance considerations</li>
</ul>
<h3 id="path-resolution"><a href="/packages/patch/path-resolution/index.html">Path Resolution</a></h3>
<p>Detailed explanation of how paths are resolved:</p>
<ul>
<li>JSONPath syntax support</li>
<li>Array indexing and wildcards</li>
<li>Complex path expressions</li>
<li>Resolution algorithm</li>
</ul>
<h3 id="error-handling"><a href="/packages/patch/error-handling/index.html">Error Handling</a></h3>
<p>Comprehensive error handling guide:</p>
<ul>
<li>Error types and categories</li>
<li>Error recovery strategies</li>
<li>Debugging patch issues</li>
<li>Common problems and solutions</li>
</ul>
<h2 id="quick-example">Quick Example</h2>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">Deployment</span>.<span style="color:#a6e22e">my-app</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">set</span>.<span style="color:#a6e22e">spec</span>.<span style="color:#a6e22e">replicas</span> = <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">set</span>.<span style="color:#a6e22e">metadata</span>.<span style="color:#a6e22e">labels</span>.<span style="color:#a6e22e">environment</span> = <span style="color:#e6db74">&#34;production&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">add</span>.<span style="color:#a6e22e">spec</span>.<span style="color:#a6e22e">template</span>.<span style="color:#a6e22e">spec</span>.<span style="color:#a6e22e">containers</span>[<span style="color:#a6e22e">name</span>=<span style="color:#a6e22e">app</span>].<span style="color:#a6e22e">env</span> = [
</span></span><span style="display:flex;"><span>  { <span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;LOG_LEVEL&#34;</span>, <span style="color:#a6e22e">value</span> = <span style="color:#e6db74">&#34;info&#34;</span> }
</span></span><span style="display:flex;"><span>]</span></span></code></pre></div>
<h2 id="features">Features</h2>
<ul>
<li><strong>Declarative</strong>: Define what you want, not how to get there</li>
<li><strong>Type-safe</strong>: Operations are validated against resource schemas</li>
<li><strong>Preserves formatting</strong>: Maintains YAML comments and structure</li>
<li><strong>Powerful selection</strong>: Target resources by kind, name, labels, and more</li>
<li><strong>Flexible operations</strong>: Set, add, replace values with JSONPath precision</li>
</ul>
<h2 id="getting-started">Getting Started</h2>
<ol>
<li>Start with the <a href="/packages/patch/design/index.html">Patch File Format Specification</a></li>
<li>Review <a href="/examples/patches/index.html">examples</a> to see patches in action</li>
<li>Understand <a href="/packages/patch/path-resolution/index.html">path resolution</a> for complex selections</li>
<li>Learn about <a href="/packages/patch/error-handling/index.html">error handling</a> for debugging</li>
</ol>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<a href="http://localhost:1313/" style="text-decoration: none;">
    <h1 style="margin: 0; padding: 1rem; color: var(--MENU-SECTIONS-ACTIVE-BG-color);">Go Kure</h1>
</a>

<div style="padding: 0 1rem 1rem 1rem;">
    <div style="background-color: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); border-radius: 4px; padding: 0.75rem;">
        <div style="display: flex; align-items: center; font-weight: bold; color: #ffc107; margin-bottom: 0.25rem; font-size: 0.9rem;">
            <span style="margin-right: 0.5rem;">⚠️</span>
            <span>Pre-Release</span>
        </div>
        <div style="font-size: 0.8rem; color: #ffeb3b; line-height: 1.3;">
            Unreleased software - APIs subject to change
        </div>
    </div>
</div>
        </div>
        <search><form action="/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="/index.html"><a class="padding" href="/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/overview/index.html"><a class="padding" href="/overview/index.html">Overview</a></li>
            <li class="" data-nav-id="/getting-started/index.html"><a class="padding" href="/getting-started/index.html">Getting Started</a></li>
            <li class="" data-nav-id="/architecture/index.html"><a class="padding" href="/architecture/index.html">Architecture</a></li>
            <li class="parent " data-nav-id="/packages/index.html"><a class="padding" href="/packages/index.html">Packages</a><ul id="R-subsections-bdf1e8ce92aa8ff6883c617f10480430" class="collapsible-menu">
            <li class="active " data-nav-id="/packages/patch/index.html"><a class="padding" href="/packages/patch/index.html">Patch Package</a></li></ul></li>
            <li class="" data-nav-id="/examples/index.html"><a class="padding" href="/examples/index.html">Examples</a></li>
            <li class="" data-nav-id="/resources/index.html"><a class="padding" href="/resources/index.html">Resources</a></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer"><div style="position: sticky; bottom: 0; padding: 1rem; margin-top: 2rem; background-color: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); border-top: 3px solid #ffc107;">
    <div style="display: flex; align-items: center; font-weight: bold; color: #ffc107; margin-bottom: 0.5rem;">
        <span style="margin-right: 0.5rem;">⚠️</span>
        <span>Pre-Release Software</span>
    </div>
    <div style="font-size: 0.875rem; color: #ffeb3b; line-height: 1.4;">
        This documentation is for unreleased software. Features and APIs may change before the official release.
    </div>
</div></div>
      </div>
    </aside>
    <script src="/js/clipboard/clipboard.min.js?1754413063" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1754413063" defer></script>
    <script src="/js/theme.js?1754413063" defer></script>
  </body>
</html>
