<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.2">
    <meta name="generator" content="Relearn 8.0.0+9803d5122ebb3276acea823f476e9eb44f607862">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="Kure patch Module ‚Äî Purpose and Design Purpose The patch module provides the core abstraction layer for loading, representing, and mutating Kubernetes resources using structured patches ‚Äî without templates, overlays, or DSLs.
It enables tools to declaratively define resource configurations and safe modifications using dual-format support (YAML and TOML) with Go-native data structures. Patches modify an existing base resource, with advanced structure preservation that maintains comments, formatting, and document order.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" content="Kure patch Module ‚Äî Purpose and Design Purpose The patch module provides the core abstraction layer for loading, representing, and mutating Kubernetes resources using structured patches ‚Äî without templates, overlays, or DSLs.
It enables tools to declaratively define resource configurations and safe modifications using dual-format support (YAML and TOML) with Go-native data structures. Patches modify an existing base resource, with advanced structure preservation that maintains comments, formatting, and document order.">
    <meta property="og:url" content="http://localhost:1313/packages/patch/patch-engine-design/index.html">
    <meta property="og:site_name" content="Go Kure">
    <meta property="og:description" content="Kure patch Module ‚Äî Purpose and Design Purpose The patch module provides the core abstraction layer for loading, representing, and mutating Kubernetes resources using structured patches ‚Äî without templates, overlays, or DSLs.
It enables tools to declaratively define resource configurations and safe modifications using dual-format support (YAML and TOML) with Go-native data structures. Patches modify an existing base resource, with advanced structure preservation that maintains comments, formatting, and document order.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Packages">
    <meta itemprop="description" content="Kure patch Module ‚Äî Purpose and Design Purpose The patch module provides the core abstraction layer for loading, representing, and mutating Kubernetes resources using structured patches ‚Äî without templates, overlays, or DSLs.
It enables tools to declaratively define resource configurations and safe modifications using dual-format support (YAML and TOML) with Go-native data structures. Patches modify an existing base resource, with advanced structure preservation that maintains comments, formatting, and document order.">
    <meta itemprop="wordCount" content="712">
    <title></title>
    <link href="/css/auto-complete/auto-complete.min.css?1754413039" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1754413039" defer></script>
    <script src="/js/search-lunr.js?1754413039" defer></script>
    <script src="/js/search.js?1754413039" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/searchindex.en.js?1754413039";
    </script>
    <script src="/js/lunr/lunr.min.js?1754413039" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1754413039" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1754413039" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1754413039" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1754413039" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1754413039" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1754413039" rel="stylesheet">
    <link href="/css/theme.css?1754413039" rel="stylesheet">
    <link href="/css/format-html.css?1754413039" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = ``;
      window.relearn.path='\/packages\/patch\/patch-engine-design\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'relearn-dark' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script><div class="notices warning" style="margin-bottom: 1rem;">
    <div class="label">‚ö†Ô∏è Work in Progress</div>
    <div class="content">Kure is currently under active development and has not been released yet. APIs and features are subject to change.</div>
</div>
  </head>
  <body class="mobile-support html" data-url="/packages/patch/patch-engine-design/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#purpose">Purpose</a></li>
    <li><a href="#design-principles">Design Principles</a></li>
    <li><a href="#core-types">Core Types</a></li>
    <li><a href="#interfaces-and-helpers">Interfaces and Helpers</a>
      <ul>
        <li><a href="#resource-loading">Resource Loading</a></li>
        <li><a href="#patch-loading">Patch Loading</a></li>
        <li><a href="#patchableappset-construction">PatchableAppSet Construction</a></li>
        <li><a href="#path-processing-and-validation">Path Processing and Validation</a></li>
        <li><a href="#type-system-and-variable-support">Type System and Variable Support</a></li>
      </ul>
    </li>
    <li><a href="#format-support">Format Support</a>
      <ul>
        <li><a href="#yaml-format">YAML Format</a></li>
        <li><a href="#toml-format-preferred">TOML Format (Preferred)</a></li>
      </ul>
    </li>
    <li><a href="#advanced-features">Advanced Features</a>
      <ul>
        <li><a href="#automatic-format-detection">Automatic Format Detection</a></li>
        <li><a href="#structure-preservation">Structure Preservation</a></li>
        <li><a href="#intelligent-path-resolution">Intelligent Path Resolution</a></li>
        <li><a href="#variable-substitution">Variable Substitution</a></li>
        <li><a href="#automatic-type-inference">Automatic Type Inference</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/index.html"><span itemprop="name">Go Kure</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/packages/index.html"><span itemprop="name">Packages</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/packages/patch/index.html"><span itemprop="name">Patch Package</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/packages/patch/index.html" title="Patch Package (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/examples/index.html" title="Examples (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable packages" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id=""></h1>

<h1 id="kure-patch-module--purpose-and-design">Kure <code>patch</code> Module ‚Äî Purpose and Design</h1>
<h2 id="purpose">Purpose</h2>
<p>The <code>patch</code> module provides the <strong>core abstraction layer</strong> for loading, representing, and mutating Kubernetes resources using <strong>structured patches</strong> ‚Äî without templates, overlays, or DSLs.</p>
<p>It enables tools to declaratively define resource configurations and safe modifications using <strong>dual-format support</strong> (YAML and TOML) with <strong>Go-native data structures</strong>. Patches modify an existing <strong>base resource</strong>, with advanced <strong>structure preservation</strong> that maintains comments, formatting, and document order.</p>
<p>This forms the foundation for Kure&rsquo;s deterministic, introspectable Kubernetes manifest generation pipeline with sophisticated <strong>intelligent path resolution</strong> and <strong>automatic type inference</strong>.</p>
<hr>
<h2 id="design-principles">Design Principles</h2>
<ol>
<li>
<p><strong>Dual-format declarative patching</strong> over templating:</p>
<ul>
<li>Support both YAML and TOML patch formats with automatic detection</li>
<li>Use single-line syntax to express changes to Kubernetes objects</li>
<li>Avoid logic or conditional expressions in patch files</li>
</ul>
</li>
<li>
<p><strong>One patch = one operation</strong>:</p>
<ul>
<li>Patches operate on individual fields or list items</li>
<li>Operations include: <code>replace</code>, <code>delete</code>, <code>insertbefore</code>, <code>insertafter</code>, <code>append</code></li>
</ul>
</li>
<li>
<p><strong>Intelligent patch targeting with disambiguation</strong>:</p>
<ul>
<li>Automatically routes patches to matching resources using metadata and field validation</li>
<li>Advanced resolution algorithms handle multiple resources with same names</li>
<li>Supports <code>target:</code> override and <code>kind.name</code> disambiguation</li>
<li>Smart target matching validates patch compatibility with resource schemas</li>
</ul>
</li>
<li>
<p><strong>Structure preservation and introspection</strong>:</p>
<ul>
<li>All paths are parsed and normalized into <code>PathPart</code> structs</li>
<li>YAML structure preservation maintains comments, formatting, and document order</li>
<li>Path syntax is explicitly validated before application</li>
<li>Comprehensive debug logging with <code>KURE_DEBUG=1</code></li>
</ul>
</li>
<li>
<p><strong>Automatic type inference and conversion</strong>:</p>
<ul>
<li>Intelligent conversion of string values to appropriate Go types (int, bool, etc.)</li>
<li>Context-aware type inference based on Kubernetes field patterns</li>
<li>Compatible with unstructured.Unstructured requirements</li>
</ul>
</li>
<li>
<p><strong>Graceful error handling</strong>:</p>
<ul>
<li>Missing patch targets generate warnings rather than failures</li>
<li>Batch processing continues on individual patch failures</li>
<li>Comprehensive error context for debugging</li>
</ul>
</li>
<li>
<p><strong>Base resource required</strong>:</p>
<ul>
<li>Each patch is applied on top of an existing object loaded from a file or provided programmatically</li>
</ul>
</li>
</ol>
<hr>
<h2 id="core-types">Core Types</h2>
<ul>
<li><code>PatchOp</code>: A single parsed patch line (path, value, operation, selector)</li>
<li><code>PathPart</code>: A structured representation of a patch path segment with match types</li>
<li><code>PatchableAppSet</code>: Holds resources and their associated patch operations with structure preservation</li>
<li><code>YAMLDocumentSet</code>: Advanced structure preservation for comments and formatting</li>
<li><code>YAMLDocument</code>: Individual document with preserved structure and metadata</li>
<li><code>TOMLHeader</code>: Parsed TOML-style header with intelligent Kubernetes path mapping</li>
<li><code>VariableContext</code>: Context for variable substitution with values and features</li>
</ul>
<hr>
<h2 id="interfaces-and-helpers">Interfaces and Helpers</h2>
<h3 id="resource-loading">Resource Loading</h3>
<ul>
<li><code>LoadResourcesFromMultiYAML(io.Reader)</code> ‚Äî Load 1..n Kubernetes resources</li>
<li><code>LoadResourcesWithStructure(io.Reader)</code> ‚Äî Load resources with structure preservation</li>
</ul>
<h3 id="patch-loading">Patch Loading</h3>
<ul>
<li><code>LoadPatchFile(io.Reader)</code> ‚Äî Load patches with automatic format detection</li>
<li><code>LoadPatchFileWithVariables(io.Reader, *VariableContext)</code> ‚Äî Load with variable substitution</li>
<li><code>LoadYAMLPatchFile(io.Reader, *VariableContext)</code> ‚Äî Load YAML format patches</li>
<li><code>LoadTOMLPatchFile(io.Reader, *VariableContext)</code> ‚Äî Load TOML format patches</li>
</ul>
<h3 id="patchableappset-construction">PatchableAppSet Construction</h3>
<ul>
<li><code>NewPatchableAppSet([]*unstructured.Unstructured, []PatchSpec)</code> ‚Äî Create from in-memory objects</li>
<li><code>NewPatchableAppSetWithStructure(*YAMLDocumentSet, []PatchSpec)</code> ‚Äî Create with structure preservation</li>
<li><code>LoadPatchableAppSet([]io.Reader, io.Reader)</code> ‚Äî Create a complete working set</li>
</ul>
<h3 id="path-processing-and-validation">Path Processing and Validation</h3>
<ul>
<li><code>NormalizePath()</code> ‚Äî Validate and parse patch paths before application</li>
<li><code>ParsePatchPath(string)</code> ‚Äî Parse paths into structured PathPart components</li>
<li><code>ParseTOMLHeader(string)</code> ‚Äî Parse TOML headers with intelligent path mapping</li>
</ul>
<h3 id="type-system-and-variable-support">Type System and Variable Support</h3>
<ul>
<li><code>inferValueType(key, value string)</code> ‚Äî Automatic type inference for Kubernetes compatibility</li>
<li><code>SubstituteVariables(string, *VariableContext)</code> ‚Äî Variable substitution with ${values.key} syntax</li>
</ul>
<hr>
<h2 id="format-support">Format Support</h2>
<h3 id="yaml-format">YAML Format</h3>
<p>Supports expressive list modification syntax:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># Simple patch map</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec.containers[3].image</span>: <span style="color:#ae81ff">nginx:latest       </span> <span style="color:#75715e"># replace by index</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec.containers[+name=web].image</span>: <span style="color:#ae81ff">sidecar:1  </span> <span style="color:#75715e"># insert after matching item</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec.containers[-]</span>: { <span style="color:#f92672">name</span>: <span style="color:#ae81ff">debug }          </span> <span style="color:#75715e"># append to list</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata.labels[delete=app]</span>: <span style="color:#e6db74">&#34;&#34;</span>               <span style="color:#75715e"># delete field</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Targeted patch list</span>
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">target</span>: <span style="color:#ae81ff">my-deployment</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">patch</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">spec.replicas</span>: <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">spec.template.metadata.labels.foo</span>: <span style="color:#ae81ff">bar</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">metadata.labels[delete=app]</span>: <span style="color:#e6db74">&#34;&#34;</span></span></span></code></pre></div>
<h3 id="toml-format-preferred">TOML Format (Preferred)</h3>
<p>Intelligent header-based targeting with automatic path mapping:</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span><span style="color:#75715e"># Basic resource targeting</span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">deployment</span>.<span style="color:#a6e22e">app</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">spec</span>.<span style="color:#a6e22e">replicas</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">metadata</span>.<span style="color:#a6e22e">labels</span>.<span style="color:#a6e22e">env</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">production</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Container-specific patches with semantic selectors</span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">deployment</span>.<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">containers</span>.<span style="color:#a6e22e">name</span>=<span style="color:#a6e22e">main</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">resources</span>.<span style="color:#a6e22e">requests</span>.<span style="color:#a6e22e">cpu</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#ae81ff">100</span><span style="color:#a6e22e">m</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">resources</span>.<span style="color:#a6e22e">limits</span>.<span style="color:#a6e22e">memory</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#ae81ff">512</span><span style="color:#a6e22e">Mi</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">tag</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;${values.version}&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Service port configuration  </span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">service</span>.<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">ports</span>.<span style="color:#a6e22e">name</span>=<span style="color:#a6e22e">https</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">port</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#ae81ff">443</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">nodePort</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#ae81ff">30443</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Complex array operations</span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">deployment</span>.<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">containers</span>.<span style="color:#a6e22e">name</span>=<span style="color:#a6e22e">main</span>.<span style="color:#a6e22e">env</span>[<span style="color:#a6e22e">-</span>]]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">name</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">DEBUG_MODE</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">value</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;true&#34;</span></span></span></code></pre></div>
<h2 id="advanced-features">Advanced Features</h2>
<h3 id="automatic-format-detection">Automatic Format Detection</h3>
<p>The system automatically detects patch format based on content structure:</p>
<ul>
<li>TOML format: Detected by presence of <code>[header]</code> sections</li>
<li>YAML format: Detected by YAML structure patterns</li>
</ul>
<h3 id="structure-preservation">Structure Preservation</h3>
<ul>
<li>Maintains original YAML comments, formatting, and document order</li>
<li>Preserves multi-document YAML structure with <code>---</code> separators</li>
<li>Updates only targeted fields while leaving surrounding structure intact</li>
</ul>
<h3 id="intelligent-path-resolution">Intelligent Path Resolution</h3>
<ul>
<li>Context-aware mapping of TOML sections to Kubernetes paths</li>
<li>Different behavior based on resource type (Deployment vs Service vs Pod)</li>
<li>Smart disambiguation for resources with identical names</li>
</ul>
<h3 id="variable-substitution">Variable Substitution</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">deployment</span>.<span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">containers</span>.<span style="color:#a6e22e">name</span>=<span style="color:#a6e22e">main</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">image</span>.<span style="color:#a6e22e">tag</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;${values.version}&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">resources</span>.<span style="color:#a6e22e">requests</span>.<span style="color:#a6e22e">cpu</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;${values.cpu_request}&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">debug</span>.<span style="color:#a6e22e">enabled</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;${features.enable_debug}&#34;</span></span></span></code></pre></div>
<h3 id="automatic-type-inference">Automatic Type Inference</h3>
<ul>
<li>Converts string values to appropriate Go types based on field context</li>
<li>Recognizes port numbers, replica counts, timeout values automatically</li>
<li>Kubernetes-compatible type conversion for unstructured objects</li>
</ul>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
<a href="http://localhost:1313/" style="text-decoration: none;">
    <h1 style="margin: 0; padding: 1rem; color: var(--MENU-SECTIONS-ACTIVE-BG-color);">Go Kure</h1>
</a>

<div style="padding: 0 1rem 1rem 1rem;">
    <div style="background-color: #fff3cd; border: 1px solid #ffeaa7; border-radius: 4px; padding: 0.75rem;">
        <div style="display: flex; align-items: center; font-weight: bold; color: #856404; margin-bottom: 0.25rem; font-size: 0.9rem;">
            <span style="margin-right: 0.5rem;">‚ö†Ô∏è</span>
            <span>Pre-Release</span>
        </div>
        <div style="font-size: 0.8rem; color: #856404; line-height: 1.3;">
            Unreleased software - APIs subject to change
        </div>
    </div>
</div>
        </div>
        <search><form action="/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="/index.html"><a class="padding" href="/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/overview/index.html"><a class="padding" href="/overview/index.html">Overview</a></li>
            <li class="" data-nav-id="/getting-started/index.html"><a class="padding" href="/getting-started/index.html">Getting Started</a></li>
            <li class="" data-nav-id="/architecture/index.html"><a class="padding" href="/architecture/index.html">Architecture</a></li>
            <li class="parent " data-nav-id="/packages/index.html"><a class="padding" href="/packages/index.html">Packages</a><ul id="R-subsections-bdf1e8ce92aa8ff6883c617f10480430" class="collapsible-menu">
            <li class="parent alwaysopen " data-nav-id="/packages/patch/index.html"><a class="padding" href="/packages/patch/index.html">Patch Package</a><ul id="R-subsections-7c547ca0c10cfe9e866a079fe02bd5a8" class="collapsible-menu">
            <li class="active hidden " data-nav-id="/packages/patch/patch-engine-design/index.html"><a class="padding" href="/packages/patch/patch-engine-design/index.html"></a></li></ul></li></ul></li>
            <li class="" data-nav-id="/examples/index.html"><a class="padding" href="/examples/index.html">Examples</a></li>
            <li class="" data-nav-id="/resources/index.html"><a class="padding" href="/resources/index.html">Resources</a></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer"><div style="position: sticky; bottom: 0; padding: 1rem; margin-top: 2rem; background-color: #fff3cd; border: 1px solid #ffeaa7; border-top: 3px solid #ffc107;">
    <div style="display: flex; align-items: center; font-weight: bold; color: #856404; margin-bottom: 0.5rem;">
        <span style="margin-right: 0.5rem;">‚ö†Ô∏è</span>
        <span>Pre-Release Software</span>
    </div>
    <div style="font-size: 0.875rem; color: #856404; line-height: 1.4;">
        This documentation is for unreleased software. Features and APIs may change before the official release.
    </div>
</div></div>
      </div>
    </aside>
    <script src="/js/clipboard/clipboard.min.js?1754413039" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1754413039" defer></script>
    <script src="/js/theme.js?1754413039" defer></script>
  </body>
</html>
