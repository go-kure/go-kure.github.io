<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.155.3"><meta name=generator content="Relearn 8.0.0+9803d5122ebb3276acea823f476e9eb44f607862"><meta name=description content="Kure End User Experience Design Document Version: 1.0
Date: August 2025
Status: Design Specification
Executive Summary This document outlines a comprehensive user experience strategy for Kure, a Go library for programmatically building Kubernetes resources for GitOps workflows. The design focuses on creating multiple interaction modalities that serve different user types while maintaining Kure‚Äôs core strengths of type safety, composability, and GitOps compatibility.
Key Design Principles:
Progressive Complexity: Simple defaults with expert-level customization Multi-Modal Interaction: Visual, programmatic, and hybrid approaches Type-Safe Configuration: Leveraging Kure‚Äôs existing validation and GVK system GitOps Native: Seamless integration with Flux and ArgoCD workflows Table of Contents User Research & Personas Current State Analysis Vision & Design Principles User Journey Maps Multi-Modal Interface Design Configuration Management System Implementation Roadmap Success Metrics User Research & Personas Primary User Personas 1. Platform Engineer (Sarah) Role: Senior Platform Engineer at mid-size tech company Experience: 5+ years Kubernetes, familiar with GitOps concepts Goals: Standardize cluster configurations, reduce operational overhead Pain Points: Complex YAML management, ensuring consistency across environments Preferred Interaction: Programmatic APIs with visual validation 2. DevOps Beginner (Mike) Role: Junior DevOps Engineer, transitioning from traditional ops Experience: 1 year Kubernetes, new to GitOps Goals: Learn best practices, avoid configuration mistakes Pain Points: Overwhelmed by Kubernetes complexity, unclear dependencies Preferred Interaction: Guided workflows with explanations 3. Solutions Architect (Alex) Role: Technical lead designing multi-cluster architectures Experience: 8+ years infrastructure, deep Kubernetes knowledge Goals: Design scalable, maintainable cluster architectures Pain Points: Visualizing complex dependencies, communicating designs to teams Preferred Interaction: Visual modeling with code generation 4. Development Team Lead (Jordan) Role: Engineering manager overseeing application deployment Experience: 3 years Kubernetes, focused on application concerns Goals: Self-service application deployment, consistent configurations Pain Points: Waiting for platform team, inconsistent environments Preferred Interaction: Template-based configuration with customization User Needs Analysis User Type Primary Need Secondary Need Success Criteria Platform Engineer Standardization & Automation Visual Validation Reduced config drift, faster onboarding DevOps Beginner Learning & Guidance Error Prevention Successful deployments, increased confidence Solutions Architect Design & Communication Code Generation Clear architecture docs, team alignment Development Team Lead Self-Service & Consistency Template Management Faster deployments, reduced dependencies Current State Analysis Existing Interaction Model Currently, users interact with Kure through direct Go code:"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="UX Design :: Go Kure"><meta name=twitter:description content="Kure End User Experience Design Document Version: 1.0
Date: August 2025
Status: Design Specification
Executive Summary This document outlines a comprehensive user experience strategy for Kure, a Go library for programmatically building Kubernetes resources for GitOps workflows. The design focuses on creating multiple interaction modalities that serve different user types while maintaining Kure‚Äôs core strengths of type safety, composability, and GitOps compatibility.
Key Design Principles:
Progressive Complexity: Simple defaults with expert-level customization Multi-Modal Interaction: Visual, programmatic, and hybrid approaches Type-Safe Configuration: Leveraging Kure‚Äôs existing validation and GVK system GitOps Native: Seamless integration with Flux and ArgoCD workflows Table of Contents User Research & Personas Current State Analysis Vision & Design Principles User Journey Maps Multi-Modal Interface Design Configuration Management System Implementation Roadmap Success Metrics User Research & Personas Primary User Personas 1. Platform Engineer (Sarah) Role: Senior Platform Engineer at mid-size tech company Experience: 5+ years Kubernetes, familiar with GitOps concepts Goals: Standardize cluster configurations, reduce operational overhead Pain Points: Complex YAML management, ensuring consistency across environments Preferred Interaction: Programmatic APIs with visual validation 2. DevOps Beginner (Mike) Role: Junior DevOps Engineer, transitioning from traditional ops Experience: 1 year Kubernetes, new to GitOps Goals: Learn best practices, avoid configuration mistakes Pain Points: Overwhelmed by Kubernetes complexity, unclear dependencies Preferred Interaction: Guided workflows with explanations 3. Solutions Architect (Alex) Role: Technical lead designing multi-cluster architectures Experience: 8+ years infrastructure, deep Kubernetes knowledge Goals: Design scalable, maintainable cluster architectures Pain Points: Visualizing complex dependencies, communicating designs to teams Preferred Interaction: Visual modeling with code generation 4. Development Team Lead (Jordan) Role: Engineering manager overseeing application deployment Experience: 3 years Kubernetes, focused on application concerns Goals: Self-service application deployment, consistent configurations Pain Points: Waiting for platform team, inconsistent environments Preferred Interaction: Template-based configuration with customization User Needs Analysis User Type Primary Need Secondary Need Success Criteria Platform Engineer Standardization & Automation Visual Validation Reduced config drift, faster onboarding DevOps Beginner Learning & Guidance Error Prevention Successful deployments, increased confidence Solutions Architect Design & Communication Code Generation Clear architecture docs, team alignment Development Team Lead Self-Service & Consistency Template Management Faster deployments, reduced dependencies Current State Analysis Existing Interaction Model Currently, users interact with Kure through direct Go code:"><meta property="og:url" content="https://www.gokure.dev/architecture/ux-design/index.html"><meta property="og:site_name" content="Go Kure"><meta property="og:title" content="UX Design :: Go Kure"><meta property="og:description" content="Kure End User Experience Design Document Version: 1.0
Date: August 2025
Status: Design Specification
Executive Summary This document outlines a comprehensive user experience strategy for Kure, a Go library for programmatically building Kubernetes resources for GitOps workflows. The design focuses on creating multiple interaction modalities that serve different user types while maintaining Kure‚Äôs core strengths of type safety, composability, and GitOps compatibility.
Key Design Principles:
Progressive Complexity: Simple defaults with expert-level customization Multi-Modal Interaction: Visual, programmatic, and hybrid approaches Type-Safe Configuration: Leveraging Kure‚Äôs existing validation and GVK system GitOps Native: Seamless integration with Flux and ArgoCD workflows Table of Contents User Research & Personas Current State Analysis Vision & Design Principles User Journey Maps Multi-Modal Interface Design Configuration Management System Implementation Roadmap Success Metrics User Research & Personas Primary User Personas 1. Platform Engineer (Sarah) Role: Senior Platform Engineer at mid-size tech company Experience: 5+ years Kubernetes, familiar with GitOps concepts Goals: Standardize cluster configurations, reduce operational overhead Pain Points: Complex YAML management, ensuring consistency across environments Preferred Interaction: Programmatic APIs with visual validation 2. DevOps Beginner (Mike) Role: Junior DevOps Engineer, transitioning from traditional ops Experience: 1 year Kubernetes, new to GitOps Goals: Learn best practices, avoid configuration mistakes Pain Points: Overwhelmed by Kubernetes complexity, unclear dependencies Preferred Interaction: Guided workflows with explanations 3. Solutions Architect (Alex) Role: Technical lead designing multi-cluster architectures Experience: 8+ years infrastructure, deep Kubernetes knowledge Goals: Design scalable, maintainable cluster architectures Pain Points: Visualizing complex dependencies, communicating designs to teams Preferred Interaction: Visual modeling with code generation 4. Development Team Lead (Jordan) Role: Engineering manager overseeing application deployment Experience: 3 years Kubernetes, focused on application concerns Goals: Self-service application deployment, consistent configurations Pain Points: Waiting for platform team, inconsistent environments Preferred Interaction: Template-based configuration with customization User Needs Analysis User Type Primary Need Secondary Need Success Criteria Platform Engineer Standardization & Automation Visual Validation Reduced config drift, faster onboarding DevOps Beginner Learning & Guidance Error Prevention Successful deployments, increased confidence Solutions Architect Design & Communication Code Generation Clear architecture docs, team alignment Development Team Lead Self-Service & Consistency Template Management Faster deployments, reduced dependencies Current State Analysis Existing Interaction Model Currently, users interact with Kure through direct Go code:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="Architecture"><meta itemprop=name content="UX Design :: Go Kure"><meta itemprop=description content="Kure End User Experience Design Document Version: 1.0
Date: August 2025
Status: Design Specification
Executive Summary This document outlines a comprehensive user experience strategy for Kure, a Go library for programmatically building Kubernetes resources for GitOps workflows. The design focuses on creating multiple interaction modalities that serve different user types while maintaining Kure‚Äôs core strengths of type safety, composability, and GitOps compatibility.
Key Design Principles:
Progressive Complexity: Simple defaults with expert-level customization Multi-Modal Interaction: Visual, programmatic, and hybrid approaches Type-Safe Configuration: Leveraging Kure‚Äôs existing validation and GVK system GitOps Native: Seamless integration with Flux and ArgoCD workflows Table of Contents User Research & Personas Current State Analysis Vision & Design Principles User Journey Maps Multi-Modal Interface Design Configuration Management System Implementation Roadmap Success Metrics User Research & Personas Primary User Personas 1. Platform Engineer (Sarah) Role: Senior Platform Engineer at mid-size tech company Experience: 5+ years Kubernetes, familiar with GitOps concepts Goals: Standardize cluster configurations, reduce operational overhead Pain Points: Complex YAML management, ensuring consistency across environments Preferred Interaction: Programmatic APIs with visual validation 2. DevOps Beginner (Mike) Role: Junior DevOps Engineer, transitioning from traditional ops Experience: 1 year Kubernetes, new to GitOps Goals: Learn best practices, avoid configuration mistakes Pain Points: Overwhelmed by Kubernetes complexity, unclear dependencies Preferred Interaction: Guided workflows with explanations 3. Solutions Architect (Alex) Role: Technical lead designing multi-cluster architectures Experience: 8+ years infrastructure, deep Kubernetes knowledge Goals: Design scalable, maintainable cluster architectures Pain Points: Visualizing complex dependencies, communicating designs to teams Preferred Interaction: Visual modeling with code generation 4. Development Team Lead (Jordan) Role: Engineering manager overseeing application deployment Experience: 3 years Kubernetes, focused on application concerns Goals: Self-service application deployment, consistent configurations Pain Points: Waiting for platform team, inconsistent environments Preferred Interaction: Template-based configuration with customization User Needs Analysis User Type Primary Need Secondary Need Success Criteria Platform Engineer Standardization & Automation Visual Validation Reduced config drift, faster onboarding DevOps Beginner Learning & Guidance Error Prevention Successful deployments, increased confidence Solutions Architect Design & Communication Code Generation Clear architecture docs, team alignment Development Team Lead Self-Service & Consistency Template Management Faster deployments, reduced dependencies Current State Analysis Existing Interaction Model Currently, users interact with Kure through direct Go code:"><meta itemprop=wordCount content="4307"><title>UX Design :: Go Kure</title><link href=/css/auto-complete/auto-complete.min.css?1770891668 rel=stylesheet><script src=/js/auto-complete/auto-complete.min.js?1770891668 defer></script><script src=/js/search-lunr.min.js?1770891668 defer></script><script src=/js/search.min.js?1770891668 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/searchindex.en.js?1770891668"</script><script src=/js/lunr/lunr.min.js?1770891668 defer></script><script src=/js/lunr/lunr.stemmer.support.min.js?1770891668 defer></script><script src=/js/lunr/lunr.multi.min.js?1770891668 defer></script><script src=/js/lunr/lunr.en.min.js?1770891668 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1770891668 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1770891668 rel=stylesheet></noscript><link href=/css/perfect-scrollbar/perfect-scrollbar.min.css?1770891668 rel=stylesheet><link href=/css/theme.min.css?1770891668 rel=stylesheet><link href=/css/format-html.min.css?1770891668 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/architecture/ux-design/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../..",window.relearn.absBaseUri="https://www.gokure.dev",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["relearn-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><div class="notices warning" style=margin-bottom:1rem><div class=label>‚ö†Ô∏è Work in Progress</div><div class=content>Kure is currently under active development and has not been released yet. APIs and features are subject to change.</div></div></head><body class="mobile-support html" data-url=/architecture/ux-design/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#executive-summary>Executive Summary</a></li><li><a href=#table-of-contents>Table of Contents</a></li><li><a href=#user-research--personas>User Research & Personas</a><ul><li><a href=#primary-user-personas>Primary User Personas</a></li><li><a href=#user-needs-analysis>User Needs Analysis</a></li></ul></li><li><a href=#current-state-analysis>Current State Analysis</a><ul><li><a href=#existing-interaction-model><strong>Existing Interaction Model</strong></a></li><li><a href=#pain-points-identified><strong>Pain Points Identified</strong></a></li><li><a href=#strengths-to-preserve><strong>Strengths to Preserve</strong></a></li></ul></li><li><a href=#vision--design-principles>Vision & Design Principles</a><ul><li><a href=#vision-statement><strong>Vision Statement</strong></a></li><li><a href=#core-design-principles><strong>Core Design Principles</strong></a></li></ul></li><li><a href=#user-journey-maps>User Journey Maps</a><ul><li><a href=#journey-1-first-time-user-setup><strong>Journey 1: First-Time User Setup</strong></a></li><li><a href=#journey-2-platform-engineer-standardization><strong>Journey 2: Platform Engineer Standardization</strong></a></li><li><a href=#journey-3-solutions-architect-design><strong>Journey 3: Solutions Architect Design</strong></a></li></ul></li><li><a href=#multi-modal-interface-design>Multi-Modal Interface Design</a><ul><li><a href=#interface-architecture-overview><strong>Interface Architecture Overview</strong></a></li><li><a href=#1-guided-wizard-interface><strong>1. Guided Wizard Interface</strong></a></li><li><a href=#2-hierarchical-tree-interface><strong>2. Hierarchical Tree Interface</strong></a></li><li><a href=#3-visual-builder-interface><strong>3. Visual Builder Interface</strong></a></li><li><a href=#4-code-editor-interface><strong>4. Code Editor Interface</strong></a></li></ul></li><li><a href=#configuration-management-system>Configuration Management System</a><ul><li><a href=#fluent-builder-architecture><strong>Fluent Builder Architecture</strong></a></li><li><a href=#preset-configuration-system><strong>Preset Configuration System</strong></a></li><li><a href=#template-inheritance-system><strong>Template Inheritance System</strong></a></li><li><a href=#mixin-system><strong>Mixin System</strong></a></li><li><a href=#environment-profiles><strong>Environment Profiles</strong></a></li><li><a href=#configuration-validation-system><strong>Configuration Validation System</strong></a></li></ul></li><li><a href=#implementation-roadmap>Implementation Roadmap</a><ul><li><a href=#phase-1-foundation-months-1-2><strong>Phase 1: Foundation (Months 1-2)</strong></a></li><li><a href=#phase-2-core-ui-components-months-3-4><strong>Phase 2: Core UI Components (Months 3-4)</strong></a></li><li><a href=#phase-3-advanced-features-months-5-6><strong>Phase 3: Advanced Features (Months 5-6)</strong></a></li><li><a href=#phase-4-collaboration--polish-months-7-8><strong>Phase 4: Collaboration & Polish (Months 7-8)</strong></a></li></ul></li><li><a href=#success-metrics>Success Metrics</a><ul><li><a href=#primary-kpis><strong>Primary KPIs</strong></a></li><li><a href=#secondary-kpis><strong>Secondary KPIs</strong></a></li><li><a href=#user-feedback-collection><strong>User Feedback Collection</strong></a></li><li><a href=#continuous-improvement-process><strong>Continuous Improvement Process</strong></a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/index.html><span itemprop=name>Go Kure</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/architecture/index.html><span itemprop=name>Architecture</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>UX Design</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/architecture/plugin-design/index.html title="Plugin Architecture (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/packages/index.html title="Packages (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable architecture" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=ux-design>UX Design</h1><h1 id=kure-end-user-experience-design-document>Kure End User Experience Design Document</h1><p><strong>Version:</strong> 1.0<br><strong>Date:</strong> August 2025<br><strong>Status:</strong> Design Specification</p><h2 id=executive-summary>Executive Summary</h2><p>This document outlines a comprehensive user experience strategy for Kure, a Go library for programmatically building Kubernetes resources for GitOps workflows. The design focuses on creating multiple interaction modalities that serve different user types while maintaining Kure&rsquo;s core strengths of type safety, composability, and GitOps compatibility.</p><p><strong>Key Design Principles:</strong></p><ul><li><strong>Progressive Complexity</strong>: Simple defaults with expert-level customization</li><li><strong>Multi-Modal Interaction</strong>: Visual, programmatic, and hybrid approaches</li><li><strong>Type-Safe Configuration</strong>: Leveraging Kure&rsquo;s existing validation and GVK system</li><li><strong>GitOps Native</strong>: Seamless integration with Flux and ArgoCD workflows</li></ul><hr><h2 id=table-of-contents>Table of Contents</h2><ol><li><a href=#user-research--personas>User Research & Personas</a></li><li><a href=#current-state-analysis>Current State Analysis</a></li><li><a href=#vision--design-principles>Vision & Design Principles</a></li><li><a href=#user-journey-maps>User Journey Maps</a></li><li><a href=#multi-modal-interface-design>Multi-Modal Interface Design</a></li><li><a href=#configuration-management-system>Configuration Management System</a></li><li><a href=#implementation-roadmap>Implementation Roadmap</a></li><li><a href=#success-metrics>Success Metrics</a></li></ol><hr><h2 id=user-research--personas>User Research & Personas</h2><h3 id=primary-user-personas>Primary User Personas</h3><h4 id=1-platform-engineer-sarah>1. <strong>Platform Engineer (Sarah)</strong></h4><ul><li><strong>Role</strong>: Senior Platform Engineer at mid-size tech company</li><li><strong>Experience</strong>: 5+ years Kubernetes, familiar with GitOps concepts</li><li><strong>Goals</strong>: Standardize cluster configurations, reduce operational overhead</li><li><strong>Pain Points</strong>: Complex YAML management, ensuring consistency across environments</li><li><strong>Preferred Interaction</strong>: Programmatic APIs with visual validation</li></ul><h4 id=2-devops-beginner-mike>2. <strong>DevOps Beginner (Mike)</strong></h4><ul><li><strong>Role</strong>: Junior DevOps Engineer, transitioning from traditional ops</li><li><strong>Experience</strong>: 1 year Kubernetes, new to GitOps</li><li><strong>Goals</strong>: Learn best practices, avoid configuration mistakes</li><li><strong>Pain Points</strong>: Overwhelmed by Kubernetes complexity, unclear dependencies</li><li><strong>Preferred Interaction</strong>: Guided workflows with explanations</li></ul><h4 id=3-solutions-architect-alex>3. <strong>Solutions Architect (Alex)</strong></h4><ul><li><strong>Role</strong>: Technical lead designing multi-cluster architectures</li><li><strong>Experience</strong>: 8+ years infrastructure, deep Kubernetes knowledge</li><li><strong>Goals</strong>: Design scalable, maintainable cluster architectures</li><li><strong>Pain Points</strong>: Visualizing complex dependencies, communicating designs to teams</li><li><strong>Preferred Interaction</strong>: Visual modeling with code generation</li></ul><h4 id=4-development-team-lead-jordan>4. <strong>Development Team Lead (Jordan)</strong></h4><ul><li><strong>Role</strong>: Engineering manager overseeing application deployment</li><li><strong>Experience</strong>: 3 years Kubernetes, focused on application concerns</li><li><strong>Goals</strong>: Self-service application deployment, consistent configurations</li><li><strong>Pain Points</strong>: Waiting for platform team, inconsistent environments</li><li><strong>Preferred Interaction</strong>: Template-based configuration with customization</li></ul><h3 id=user-needs-analysis>User Needs Analysis</h3><table><thead><tr><th>User Type</th><th>Primary Need</th><th>Secondary Need</th><th>Success Criteria</th></tr></thead><tbody><tr><td>Platform Engineer</td><td>Standardization & Automation</td><td>Visual Validation</td><td>Reduced config drift, faster onboarding</td></tr><tr><td>DevOps Beginner</td><td>Learning & Guidance</td><td>Error Prevention</td><td>Successful deployments, increased confidence</td></tr><tr><td>Solutions Architect</td><td>Design & Communication</td><td>Code Generation</td><td>Clear architecture docs, team alignment</td></tr><tr><td>Development Team Lead</td><td>Self-Service & Consistency</td><td>Template Management</td><td>Faster deployments, reduced dependencies</td></tr></tbody></table><hr><h2 id=current-state-analysis>Current State Analysis</h2><h3 id=existing-interaction-model><strong>Existing Interaction Model</strong></h3><p>Currently, users interact with Kure through direct Go code:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// Manual, step-by-step creation</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>cluster</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>NewCluster</span>(<span style=color:#e6db74>&#34;production&#34;</span>, <span style=color:#a6e22e>rootNode</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>node</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>NewNode</span>(<span style=color:#e6db74>&#34;infrastructure&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>bundle</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>NewBundle</span>(<span style=color:#e6db74>&#34;monitoring&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>NewApplication</span>(<span style=color:#e6db74>&#34;prometheus&#34;</span>, <span style=color:#a6e22e>appConfig</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Manual hierarchy construction</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>cluster</span>.<span style=color:#a6e22e>AddNode</span>(<span style=color:#a6e22e>node</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>node</span>.<span style=color:#a6e22e>AddBundle</span>(<span style=color:#a6e22e>bundle</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>bundle</span>.<span style=color:#a6e22e>AddApplication</span>(<span style=color:#a6e22e>app</span>)</span></span></code></pre></div><h3 id=pain-points-identified><strong>Pain Points Identified</strong></h3><ol><li><strong>High Cognitive Load</strong>: Users must understand the entire hierarchy upfront</li><li><strong>Verbose Construction</strong>: Repetitive boilerplate for common patterns</li><li><strong>No Visual Feedback</strong>: Difficult to validate complex configurations</li><li><strong>Limited Discoverability</strong>: Hard to explore available options</li><li><strong>Expert-Only Access</strong>: High barrier to entry for newcomers</li></ol><h3 id=strengths-to-preserve><strong>Strengths to Preserve</strong></h3><ol><li><strong>Type Safety</strong>: Compile-time validation prevents common errors</li><li><strong>Composability</strong>: Clean separation of concerns across hierarchy</li><li><strong>GitOps Integration</strong>: Native support for Flux and ArgoCD</li><li><strong>Extensibility</strong>: Plugin system for custom generators</li><li><strong>Schema Evolution</strong>: GVK system supports API versioning</li></ol><hr><h2 id=vision--design-principles>Vision & Design Principles</h2><h3 id=vision-statement><strong>Vision Statement</strong></h3><p><em>&ldquo;Make Kubernetes cluster configuration as intuitive as building with Lego blocks, while maintaining the precision and power of a programming language.&rdquo;</em></p><h3 id=core-design-principles><strong>Core Design Principles</strong></h3><h4 id=1-progressive-disclosure>1. <strong>Progressive Disclosure</strong></h4><ul><li><strong>Principle</strong>: Reveal complexity gradually based on user needs</li><li><strong>Implementation</strong>: Start with simple templates, expose advanced options on demand</li><li><strong>Example</strong>: Wizard ‚Üí Builder ‚Üí Direct Code ‚Üí YAML Export</li></ul><h4 id=2-multi-modal-interaction>2. <strong>Multi-Modal Interaction</strong></h4><ul><li><strong>Principle</strong>: Support different thinking and working styles</li><li><strong>Implementation</strong>: Visual, programmatic, and hybrid interfaces</li><li><strong>Example</strong>: Visual blocks for architects, code builders for engineers, forms for beginners</li></ul><h4 id=3-fail-fast-validation>3. <strong>Fail-Fast Validation</strong></h4><ul><li><strong>Principle</strong>: Catch errors as early as possible in the configuration process</li><li><strong>Implementation</strong>: Real-time validation with contextual help</li><li><strong>Example</strong>: Immediate feedback on invalid configurations with suggested fixes</li></ul><h4 id=4-convention-over-configuration>4. <strong>Convention over Configuration</strong></h4><ul><li><strong>Principle</strong>: Provide sensible defaults while allowing customization</li><li><strong>Implementation</strong>: Smart templates with override capabilities</li><li><strong>Example</strong>: Production-ready monitoring stack with one click, full customization available</li></ul><h4 id=5-composable-architecture>5. <strong>Composable Architecture</strong></h4><ul><li><strong>Principle</strong>: Enable building complex systems from simple, reusable components</li><li><strong>Implementation</strong>: Mixins, templates, and inheritance patterns</li><li><strong>Example</strong>: Security mixin + monitoring mixin + custom application = complete cluster</li></ul><hr><h2 id=user-journey-maps>User Journey Maps</h2><h3 id=journey-1-first-time-user-setup><strong>Journey 1: First-Time User Setup</strong></h3><pre class="mermaid align-center">journey
    title First-Time User: Setting Up Monitoring Cluster
    section Discovery
        Visit documentation: 3: User
        Review examples: 4: User
        Choose template: 5: User
    section Configuration
        Start wizard: 5: User
        Basic cluster setup: 4: User
        Add monitoring components: 5: User
        Review generated config: 4: User
    section Deployment
        Export to YAML: 5: User
        Apply to cluster: 3: User
        Verify deployment: 5: User
    section Learning
        Explore tree view: 4: User
        Modify configuration: 3: User
        Learn advanced features: 4: User</pre><h3 id=journey-2-platform-engineer-standardization><strong>Journey 2: Platform Engineer Standardization</strong></h3><pre class="mermaid align-center">journey
    title Platform Engineer: Creating Organization Standards
    section Analysis
        Audit existing configs: 2: User
        Identify patterns: 3: User
        Define requirements: 4: User
    section Template Creation
        Create base template: 4: User
        Add security policies: 3: User
        Test with dev cluster: 5: User
        Document template: 4: User
    section Team Adoption
        Share template library: 5: User
        Train team members: 4: User
        Monitor usage: 5: User
        Iterate based on feedback: 4: User</pre><h3 id=journey-3-solutions-architect-design><strong>Journey 3: Solutions Architect Design</strong></h3><pre class="mermaid align-center">journey
    title Solutions Architect: Multi-Cluster Design
    section Planning
        Stakeholder requirements: 3: User
        Architecture constraints: 2: User
        Technology decisions: 4: User
    section Design
        Visual cluster modeling: 5: User
        Define dependencies: 4: User
        Resource allocation: 3: User
        Security boundaries: 4: User
    section Communication
        Generate diagrams: 5: User
        Export documentation: 4: User
        Present to stakeholders: 5: User
        Iterate on feedback: 4: User
    section Implementation
        Generate code templates: 5: User
        Hand off to team: 4: User
        Support deployment: 4: User</pre><hr><h2 id=multi-modal-interface-design>Multi-Modal Interface Design</h2><h3 id=interface-architecture-overview><strong>Interface Architecture Overview</strong></h3><p>The Kure UX consists of four primary interaction modes that users can switch between seamlessly:</p><ol><li><strong>Guided Wizard</strong> - Step-by-step configuration for beginners</li><li><strong>Hierarchical Tree</strong> - Structural navigation for intermediate users</li><li><strong>Visual Builder</strong> - Block-based design for architects</li><li><strong>Code Editor</strong> - Direct programmatic control for experts</li></ol><h3 id=1-guided-wizard-interface><strong>1. Guided Wizard Interface</strong></h3><h4 id=purpose--users><strong>Purpose & Users</strong></h4><ul><li><strong>Primary Users</strong>: DevOps beginners, first-time users</li><li><strong>Use Cases</strong>: Initial cluster setup, learning Kure concepts</li><li><strong>Key Features</strong>: Progressive disclosure, contextual help, error prevention</li></ul><h4 id=design-specifications><strong>Design Specifications</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>WizardStep</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>title</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>description</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>component</span>: <span style=color:#66d9ef>WizardStepComponent</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>validation</span>: <span style=color:#66d9ef>ValidationRule</span>[]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dependencies</span>: <span style=color:#66d9ef>string</span>[]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canSkip</span>: <span style=color:#66d9ef>boolean</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>WizardFlow</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>steps</span>: <span style=color:#66d9ef>WizardStep</span>[]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>currentStep</span>: <span style=color:#66d9ef>number</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>userData</span>: <span style=color:#66d9ef>Record</span>&lt;<span style=color:#f92672>string</span>, <span style=color:#a6e22e>any</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>branching</span>: <span style=color:#66d9ef>BranchingLogic</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h4 id=step-flow-design><strong>Step Flow Design</strong></h4><ol><li><p><strong>Welcome & Template Selection</strong></p><ul><li>Choose from curated templates (monitoring, web-app, database)</li><li>Preview template contents and generated resources</li><li>Option to start from scratch for advanced users</li></ul></li><li><p><strong>Cluster Configuration</strong></p><ul><li>Basic cluster metadata (name, description)</li><li>GitOps selection (Flux/ArgoCD) with explanations</li><li>Bootstrap configuration with sensible defaults</li></ul></li><li><p><strong>Node Architecture</strong></p><ul><li>Infrastructure vs application node separation</li><li>Hierarchical structure with visual preview</li><li>Package reference configuration (OCI/Git)</li></ul></li><li><p><strong>Bundle Configuration</strong></p><ul><li>Logical grouping of applications</li><li>Dependency management with visual graph</li><li>Source configuration and intervals</li></ul></li><li><p><strong>Application Setup</strong></p><ul><li>Generator selection (AppWorkload, FluxHelm, etc.)</li><li>Configuration forms based on JSON schema</li><li>Live preview of generated resources</li></ul></li><li><p><strong>Review & Generate</strong></p><ul><li>Complete configuration summary</li><li>Generated YAML preview with syntax highlighting</li><li>Validation results and recommendations</li><li>Export options (YAML, Go code, Terraform)</li></ul></li></ol><h4 id=ui-components><strong>UI Components</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#75715e>// Progress indicator
</span></span></span><span style=display:flex><span>&lt;<span style=color:#f92672>WizardProgress</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>steps</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>wizardSteps</span>}
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>currentStep</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>currentStep</span>}
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>completedSteps</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>completedSteps</span>}
</span></span><span style=display:flex><span>/&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Step content with validation
</span></span></span><span style=display:flex><span>&lt;<span style=color:#f92672>WizardStep</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>step</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>currentStepData</span>}
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>data</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>formData</span>}
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>handleStepChange</span>}
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>onValidate</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>validateStep</span>}
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>errors</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>validationErrors</span>}
</span></span><span style=display:flex><span>/&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Navigation controls
</span></span></span><span style=display:flex><span>&lt;<span style=color:#f92672>WizardNavigation</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canGoBack</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>currentStep</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>}
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canGoForward</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>isCurrentStepValid</span>}
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>onBack</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>handleBack</span>}
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>onForward</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>handleForward</span>}
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>onCancel</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>handleCancel</span>}
</span></span><span style=display:flex><span>/&gt;</span></span></code></pre></div><h3 id=2-hierarchical-tree-interface><strong>2. Hierarchical Tree Interface</strong></h3><h4 id=purpose--users-1><strong>Purpose & Users</strong></h4><ul><li><strong>Primary Users</strong>: Platform engineers, intermediate users</li><li><strong>Use Cases</strong>: Detailed configuration, structural modification</li><li><strong>Key Features</strong>: Expandable tree, contextual editing, bulk operations</li></ul><h4 id=design-specifications-1><strong>Design Specifications</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>TreeNode</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;cluster&#39;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#39;node&#39;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#39;bundle&#39;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#39;application&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>metadata</span>: <span style=color:#66d9ef>Record</span>&lt;<span style=color:#f92672>string</span>, <span style=color:#a6e22e>any</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>children</span>: <span style=color:#66d9ef>TreeNode</span>[]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>expanded</span>: <span style=color:#66d9ef>boolean</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selected</span>: <span style=color:#66d9ef>boolean</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>errors</span>: <span style=color:#66d9ef>ValidationError</span>[]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>TreeViewState</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rootNode</span>: <span style=color:#66d9ef>TreeNode</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectedNodes</span>: <span style=color:#66d9ef>string</span>[]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>expandedNodes</span>: <span style=color:#66d9ef>string</span>[]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>searchFilter</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>validationResults</span>: <span style=color:#66d9ef>ValidationResults</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h4 id=tree-structure-visualization><strong>Tree Structure Visualization</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0><code>üè≠ Production Cluster
‚îú‚îÄ‚îÄ üì¶ Infrastructure Node
‚îÇ   ‚îú‚îÄ‚îÄ üìã Monitoring Bundle
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üîß Prometheus App (AppWorkload)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìä Grafana App (AppWorkload)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üö® AlertManager App (FluxHelm)
‚îÇ   ‚îú‚îÄ‚îÄ üìã Logging Bundle
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìù Fluentd App (FluxHelm)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üîç ElasticSearch App (FluxHelm)
‚îÇ   ‚îî‚îÄ‚îÄ üìã Security Bundle
‚îÇ       ‚îú‚îÄ‚îÄ üõ°Ô∏è Falco App (FluxHelm)
‚îÇ       ‚îî‚îÄ‚îÄ üîê OPA Gatekeeper App (FluxHelm)
‚îî‚îÄ‚îÄ üéØ Applications Node
    ‚îú‚îÄ‚îÄ üìã Frontend Bundle
    ‚îÇ   ‚îú‚îÄ‚îÄ üåê React App (AppWorkload)
    ‚îÇ   ‚îî‚îÄ‚îÄ üîÑ Nginx Proxy (AppWorkload)
    ‚îî‚îÄ‚îÄ üìã Backend Bundle
        ‚îú‚îÄ‚îÄ ‚öôÔ∏è API Server (AppWorkload)
        ‚îî‚îÄ‚îÄ üóÑÔ∏è Database (FluxHelm)</code></pre></div><h4 id=interaction-patterns><strong>Interaction Patterns</strong></h4><ol><li><strong>Expand/Collapse</strong>: Click chevron to show/hide children</li><li><strong>Selection</strong>: Click item to select, multi-select with Ctrl/Cmd</li><li><strong>Context Menu</strong>: Right-click for add/edit/delete/duplicate options</li><li><strong>Drag & Drop</strong>: Reorganize hierarchy by dragging items</li><li><strong>Inline Editing</strong>: Double-click names for quick renaming</li><li><strong>Search & Filter</strong>: Real-time filtering with highlighting</li></ol><h4 id=property-panel-design><strong>Property Panel Design</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-typescript data-lang=typescript><span style=display:flex><span>&lt;<span style=color:#f92672>PropertyPanel</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>TabGroup</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>Tab</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;General&#34;</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>FormField</span> <span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Name&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>selectedNode</span>.<span style=color:#a6e22e>name</span>} /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>FormField</span> <span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Description&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>selectedNode</span>.<span style=color:#a6e22e>description</span>} /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>FormField</span> <span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Labels&#34;</span> <span style=color:#a6e22e>component</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>KeyValueEditor</span>} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>Tab</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>Tab</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Configuration&#34;</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>DynamicForm</span> <span style=color:#a6e22e>schema</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>nodeSchema</span>} <span style=color:#a6e22e>data</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>nodeData</span>} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>Tab</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>Tab</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Advanced&#34;</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>CodeEditor</span> <span style=color:#a6e22e>language</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;yaml&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>nodeYaml</span>} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>Tab</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>Tab</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Validation&#34;</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>ValidationResults</span> <span style=color:#a6e22e>errors</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>validationErrors</span>} /&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>Tab</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>TabGroup</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>PropertyPanel</span>&gt;</span></span></code></pre></div><h3 id=3-visual-builder-interface><strong>3. Visual Builder Interface</strong></h3><h4 id=purpose--users-2><strong>Purpose & Users</strong></h4><ul><li><strong>Primary Users</strong>: Solutions architects, visual learners</li><li><strong>Use Cases</strong>: Architecture design, dependency visualization</li><li><strong>Key Features</strong>: Drag-drop composition, visual connections, layout algorithms</li></ul><h4 id=design-specifications-2><strong>Design Specifications</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>VisualComponent</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>ComponentType</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>position</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>x</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>y</span>: <span style=color:#66d9ef>number</span> }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>size</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>width</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>height</span>: <span style=color:#66d9ef>number</span> }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>properties</span>: <span style=color:#66d9ef>Record</span>&lt;<span style=color:#f92672>string</span>, <span style=color:#a6e22e>any</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connections</span>: <span style=color:#66d9ef>Connection</span>[]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Connection</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>from</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>to</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;hierarchy&#39;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#39;dependency&#39;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#39;communication&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>style</span>: <span style=color:#66d9ef>ConnectionStyle</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>CanvasState</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>components</span>: <span style=color:#66d9ef>VisualComponent</span>[]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>connections</span>: <span style=color:#66d9ef>Connection</span>[]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectedComponents</span>: <span style=color:#66d9ef>string</span>[]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>viewport</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>x</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>y</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>zoom</span>: <span style=color:#66d9ef>number</span> }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h4 id=component-palette><strong>Component Palette</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>componentPalette</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>category</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Core&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>components</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      { <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;cluster&#34;</span>, <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;üè≠&#34;</span>, <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Cluster&#34;</span> },
</span></span><span style=display:flex><span>      { <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;node&#34;</span>, <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;üì¶&#34;</span>, <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Node&#34;</span> },
</span></span><span style=display:flex><span>      { <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;bundle&#34;</span>, <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;üìã&#34;</span>, <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Bundle&#34;</span> },
</span></span><span style=display:flex><span>      { <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;application&#34;</span>, <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;üéØ&#34;</span>, <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Application&#34;</span> }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>category</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Templates&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>components</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      { <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;monitoring-stack&#34;</span>, <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;üìä&#34;</span>, <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Monitoring Stack&#34;</span> },
</span></span><span style=display:flex><span>      { <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;web-app&#34;</span>, <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;üåê&#34;</span>, <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Web Application&#34;</span> },
</span></span><span style=display:flex><span>      { <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;database&#34;</span>, <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;üóÑÔ∏è&#34;</span>, <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Database&#34;</span> },
</span></span><span style=display:flex><span>      { <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;security-stack&#34;</span>, <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;üõ°Ô∏è&#34;</span>, <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Security Stack&#34;</span> }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>category</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Generators&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>components</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      { <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;app-workload&#34;</span>, <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;‚öôÔ∏è&#34;</span>, <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;App Workload&#34;</span> },
</span></span><span style=display:flex><span>      { <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;flux-helm&#34;</span>, <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;üì¶&#34;</span>, <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Flux Helm&#34;</span> },
</span></span><span style=display:flex><span>      { <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;kurel-package&#34;</span>, <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;üìÑ&#34;</span>, <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Kurel Package&#34;</span> }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>]</span></span></code></pre></div><h4 id=visual-design-system><strong>Visual Design System</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/* Component visual styles */</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>component</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>border-radius</span>: <span style=color:#ae81ff>8</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>box-shadow</span>: <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>2</span><span style=color:#66d9ef>px</span> <span style=color:#ae81ff>8</span><span style=color:#66d9ef>px</span> rgba(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0.1</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>transition</span>: <span style=color:#66d9ef>all</span> <span style=color:#ae81ff>0.2</span><span style=color:#66d9ef>s</span> <span style=color:#66d9ef>ease</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>cluster</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>background</span>: linear-gradient(<span style=color:#ae81ff>135</span><span style=color:#66d9ef>deg</span>, <span style=color:#ae81ff>#4a90e2</span>, <span style=color:#ae81ff>#357abd</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>white</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>border</span>: <span style=color:#ae81ff>3</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#ae81ff>#2c5aa0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>node</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>background</span>: linear-gradient(<span style=color:#ae81ff>135</span><span style=color:#66d9ef>deg</span>, <span style=color:#ae81ff>#52c41a</span>, <span style=color:#ae81ff>#389e0d</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>white</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>border</span>: <span style=color:#ae81ff>2</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#ae81ff>#237804</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>bundle</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>background</span>: linear-gradient(<span style=color:#ae81ff>135</span><span style=color:#66d9ef>deg</span>, <span style=color:#ae81ff>#fa8c16</span>, <span style=color:#ae81ff>#d46b08</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>white</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>border</span>: <span style=color:#ae81ff>2</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#ae81ff>#ad4e00</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>component</span>.<span style=color:#a6e22e>application</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>background</span>: linear-gradient(<span style=color:#ae81ff>135</span><span style=color:#66d9ef>deg</span>, <span style=color:#ae81ff>#722ed1</span>, <span style=color:#ae81ff>#531dab</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>color</span>: <span style=color:#66d9ef>white</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>border</span>: <span style=color:#ae81ff>2</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#ae81ff>#391085</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>/* Connection styles */</span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>connection</span> {
</span></span><span style=display:flex><span>  stroke-width: <span style=color:#ae81ff>2</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>  stroke-dasharray: <span style=color:#66d9ef>none</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>connection</span>.<span style=color:#a6e22e>hierarchy</span> {
</span></span><span style=display:flex><span>  stroke: <span style=color:#ae81ff>#4a90e2</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>connection</span>.<span style=color:#a6e22e>dependency</span> {
</span></span><span style=display:flex><span>  stroke: <span style=color:#ae81ff>#fa8c16</span>;
</span></span><span style=display:flex><span>  stroke-dasharray: <span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>connection</span>.<span style=color:#a6e22e>communication</span> {
</span></span><span style=display:flex><span>  stroke: <span style=color:#ae81ff>#52c41a</span>;
</span></span><span style=display:flex><span>  stroke-dasharray: <span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h4 id=layout-algorithms><strong>Layout Algorithms</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>LayoutAlgorithm</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>description</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>apply</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>components</span>: <span style=color:#66d9ef>VisualComponent</span>[]) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>VisualComponent</span>[]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>layoutAlgorithms</span>: <span style=color:#66d9ef>LayoutAlgorithm</span>[] <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Hierarchical&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>description</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Top-down tree layout following cluster hierarchy&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>apply</span>: <span style=color:#66d9ef>hierarchicalLayout</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Force-Directed&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>description</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Physics-based layout emphasizing relationships&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>apply</span>: <span style=color:#66d9ef>forceDirectedLayout</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Grid&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>description</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Organized grid layout for clean presentation&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>apply</span>: <span style=color:#66d9ef>gridLayout</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Manual&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>description</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Free-form positioning with manual control&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>apply</span><span style=color:#f92672>:</span> (<span style=color:#a6e22e>components</span>) <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>components</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>]</span></span></code></pre></div><h3 id=4-code-editor-interface><strong>4. Code Editor Interface</strong></h3><h4 id=purpose--users-3><strong>Purpose & Users</strong></h4><ul><li><strong>Primary Users</strong>: Expert developers, power users</li><li><strong>Use Cases</strong>: Advanced customization, automation, debugging</li><li><strong>Key Features</strong>: Syntax highlighting, autocomplete, live validation</li></ul><h4 id=design-specifications-3><strong>Design Specifications</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>CodeEditorState</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>content</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>language</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;go&#39;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#39;yaml&#39;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#39;json&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cursorPosition</span><span style=color:#f92672>:</span> { <span style=color:#a6e22e>line</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>column</span>: <span style=color:#66d9ef>number</span> }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>validationErrors</span>: <span style=color:#66d9ef>ValidationError</span>[]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>suggestions</span>: <span style=color:#66d9ef>CompletionItem</span>[]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>CodeGenerator</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>generateFromConfig</span>(<span style=color:#a6e22e>config</span>: <span style=color:#66d9ef>ClusterConfig</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>parseFromCode</span>(<span style=color:#a6e22e>code</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>ClusterConfig</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>validateCode</span>(<span style=color:#a6e22e>code</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>ValidationResult</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h4 id=editor-features><strong>Editor Features</strong></h4><ol><li><strong>Syntax Highlighting</strong>: Language-specific highlighting for Go, YAML, JSON</li><li><strong>Auto-completion</strong>: Context-aware suggestions for Kure APIs</li><li><strong>Error Squiggles</strong>: Real-time validation with inline error display</li><li><strong>Code Folding</strong>: Collapse sections for better navigation</li><li><strong>Mini-map</strong>: Overview of large files with scroll position</li><li><strong>Search & Replace</strong>: Advanced find/replace with regex support</li></ol><h4 id=code-generation-templates><strong>Code Generation Templates</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>codeTemplates</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>go</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cluster</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>cluster := stack.NewClusterBuilder(&#34;{{name}}&#34;).
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    WithGitOps(&#34;{{gitopsType}}&#34;).
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    {{#nodes}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    WithNode(&#34;{{name}}&#34;).
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {{#bundles}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        WithBundle(&#34;{{name}}&#34;).
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            {{#applications}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            WithApplication(&#34;{{name}}&#34;, {{configVar}}).
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            {{/applications}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        End().
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {{/bundles}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    End().
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    {{/nodes}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Build()
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>monitoring</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>monitoringStack := stack.NewMonitoringStackBuilder().
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    WithPrometheus({{prometheus}}).
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    WithGrafana({{grafana}}).
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    WithAlertManager({{alertmanager}}).
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Build()
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>yaml</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cluster</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>apiVersion: stack.gokure.dev/v1alpha1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>kind: Cluster
</span></span></span><span style=display:flex><span><span style=color:#e6db74>metadata:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  name: {{name}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>spec:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  gitops:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    type: {{gitopsType}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    bootstrap:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      enabled: {{bootstrapEnabled}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  nodes:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    {{#nodes}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    - name: {{name}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      bundles:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {{#bundles}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        - name: {{name}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          applications:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            {{#applications}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            - {{&amp;yaml}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            {{/applications}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        {{/bundles}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    {{/nodes}}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><hr><h2 id=configuration-management-system>Configuration Management System</h2><h3 id=fluent-builder-architecture><strong>Fluent Builder Architecture</strong></h3><h4 id=core-builder-pattern><strong>Core Builder Pattern</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// Base builder interface</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Builder</span> <span style=color:#66d9ef>interface</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Build</span>() (<span style=color:#66d9ef>interface</span>{}, <span style=color:#66d9ef>error</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Validate</span>() <span style=color:#66d9ef>error</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Clone</span>() <span style=color:#a6e22e>Builder</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Cluster builder with fluent API</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ClusterBuilder</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span>        <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>nodes</span>       []<span style=color:#a6e22e>NodeBuilder</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gitops</span>      <span style=color:#f92672>*</span><span style=color:#a6e22e>GitOpsConfig</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>validation</span>  <span style=color:#a6e22e>ValidationLevel</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>metadata</span>    <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewClusterBuilder</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>ClusterBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>ClusterBuilder</span>{
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>name</span>:       <span style=color:#a6e22e>name</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>nodes</span>:      []<span style=color:#a6e22e>NodeBuilder</span>{},
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>validation</span>: <span style=color:#a6e22e>ValidationStrict</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>metadata</span>:   make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{}),
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>cb</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ClusterBuilder</span>) <span style=color:#a6e22e>WithNode</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>NodeBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>nb</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>NewNodeBuilder</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>cb</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cb</span>.<span style=color:#a6e22e>nodes</span> = append(<span style=color:#a6e22e>cb</span>.<span style=color:#a6e22e>nodes</span>, <span style=color:#f92672>*</span><span style=color:#a6e22e>nb</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>nb</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>cb</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ClusterBuilder</span>) <span style=color:#a6e22e>WithGitOps</span>(<span style=color:#a6e22e>gitopsType</span> <span style=color:#66d9ef>string</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>GitOpsBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>NewGitOpsBuilder</span>(<span style=color:#a6e22e>gitopsType</span>, <span style=color:#a6e22e>cb</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>cb</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ClusterBuilder</span>) <span style=color:#a6e22e>Build</span>() (<span style=color:#f92672>*</span><span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>Cluster</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cb</span>.<span style=color:#a6e22e>Validate</span>(); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cluster</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>NewCluster</span>(<span style=color:#a6e22e>cb</span>.<span style=color:#a6e22e>name</span>, <span style=color:#66d9ef>nil</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Build nodes</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>nodeBuilder</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>cb</span>.<span style=color:#a6e22e>nodes</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>node</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>nodeBuilder</span>.<span style=color:#a6e22e>Build</span>()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cluster</span>.<span style=color:#a6e22e>AddNode</span>(<span style=color:#a6e22e>node</span>.(<span style=color:#f92672>*</span><span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>Node</span>))
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Set GitOps configuration</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cluster</span>.<span style=color:#a6e22e>SetGitOps</span>(<span style=color:#a6e22e>cb</span>.<span style=color:#a6e22e>gitops</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>cluster</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h4 id=hierarchical-builder-navigation><strong>Hierarchical Builder Navigation</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>NodeBuilder</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span>       <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bundles</span>    []<span style=color:#a6e22e>BundleBuilder</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>parent</span>     <span style=color:#f92672>*</span><span style=color:#a6e22e>ClusterBuilder</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>packageRef</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>schema</span>.<span style=color:#a6e22e>GroupVersionKind</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>nb</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>NodeBuilder</span>) <span style=color:#a6e22e>WithBundle</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>BundleBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bb</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>NewBundleBuilder</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>nb</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>nb</span>.<span style=color:#a6e22e>bundles</span> = append(<span style=color:#a6e22e>nb</span>.<span style=color:#a6e22e>bundles</span>, <span style=color:#f92672>*</span><span style=color:#a6e22e>bb</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>bb</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>nb</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>NodeBuilder</span>) <span style=color:#a6e22e>WithPackageRef</span>(<span style=color:#a6e22e>gvk</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>schema</span>.<span style=color:#a6e22e>GroupVersionKind</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>NodeBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>nb</span>.<span style=color:#a6e22e>packageRef</span> = <span style=color:#a6e22e>gvk</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>nb</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>nb</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>NodeBuilder</span>) <span style=color:#a6e22e>End</span>() <span style=color:#f92672>*</span><span style=color:#a6e22e>ClusterBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>nb</span>.<span style=color:#a6e22e>parent</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>BundleBuilder</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span>         <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>applications</span> []<span style=color:#a6e22e>ApplicationBuilder</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>parent</span>       <span style=color:#f92672>*</span><span style=color:#a6e22e>NodeBuilder</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>interval</span>     <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sourceRef</span>    <span style=color:#f92672>*</span><span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>SourceRef</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>bb</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>BundleBuilder</span>) <span style=color:#a6e22e>WithApplication</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>config</span> <span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>ApplicationConfig</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>BundleBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ab</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>NewApplicationBuilder</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>config</span>, <span style=color:#a6e22e>bb</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bb</span>.<span style=color:#a6e22e>applications</span> = append(<span style=color:#a6e22e>bb</span>.<span style=color:#a6e22e>applications</span>, <span style=color:#f92672>*</span><span style=color:#a6e22e>ab</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>bb</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>bb</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>BundleBuilder</span>) <span style=color:#a6e22e>End</span>() <span style=color:#f92672>*</span><span style=color:#a6e22e>NodeBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>bb</span>.<span style=color:#a6e22e>parent</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h3 id=preset-configuration-system><strong>Preset Configuration System</strong></h3><h4 id=template-registry><strong>Template Registry</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>PresetTemplate</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Name</span>        <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Description</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Category</span>    <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Tags</span>        []<span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Builder</span>     <span style=color:#66d9ef>func</span>() <span style=color:#a6e22e>Builder</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Metadata</span>    <span style=color:#a6e22e>TemplateMetadata</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>TemplateRegistry</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>templates</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#a6e22e>PresetTemplate</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mutex</span>     <span style=color:#a6e22e>sync</span>.<span style=color:#a6e22e>RWMutex</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>tr</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TemplateRegistry</span>) <span style=color:#a6e22e>Register</span>(<span style=color:#a6e22e>template</span> <span style=color:#a6e22e>PresetTemplate</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>mutex</span>.<span style=color:#a6e22e>Lock</span>()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>mutex</span>.<span style=color:#a6e22e>Unlock</span>()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>exists</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>templates</span>[<span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>Name</span>]; <span style=color:#a6e22e>exists</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;template %s already exists&#34;</span>, <span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>Name</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>templates</span>[<span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>Name</span>] = <span style=color:#a6e22e>template</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>tr</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TemplateRegistry</span>) <span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>PresetTemplate</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>mutex</span>.<span style=color:#a6e22e>RLock</span>()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>mutex</span>.<span style=color:#a6e22e>RUnlock</span>()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>template</span>, <span style=color:#a6e22e>exists</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>templates</span>[<span style=color:#a6e22e>name</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>exists</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>PresetTemplate</span>{}, <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;template %s not found&#34;</span>, <span style=color:#a6e22e>name</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>template</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>tr</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>TemplateRegistry</span>) <span style=color:#a6e22e>List</span>() []<span style=color:#a6e22e>PresetTemplate</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>mutex</span>.<span style=color:#a6e22e>RLock</span>()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>mutex</span>.<span style=color:#a6e22e>RUnlock</span>()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>templates</span> <span style=color:#f92672>:=</span> make([]<span style=color:#a6e22e>PresetTemplate</span>, <span style=color:#ae81ff>0</span>, len(<span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>templates</span>))
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>template</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>tr</span>.<span style=color:#a6e22e>templates</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>templates</span> = append(<span style=color:#a6e22e>templates</span>, <span style=color:#a6e22e>template</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>templates</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h4 id=built-in-presets><strong>Built-in Presets</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// Monitoring stack preset</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>init</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>registry</span>.<span style=color:#a6e22e>Register</span>(<span style=color:#a6e22e>PresetTemplate</span>{
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Name</span>:        <span style=color:#e6db74>&#34;monitoring-stack&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Description</span>: <span style=color:#e6db74>&#34;Complete monitoring solution with Prometheus, Grafana, and AlertManager&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Category</span>:    <span style=color:#e6db74>&#34;infrastructure&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Tags</span>:        []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;monitoring&#34;</span>, <span style=color:#e6db74>&#34;prometheus&#34;</span>, <span style=color:#e6db74>&#34;grafana&#34;</span>, <span style=color:#e6db74>&#34;alertmanager&#34;</span>},
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Builder</span>: <span style=color:#66d9ef>func</span>() <span style=color:#a6e22e>Builder</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>NewMonitoringStackBuilder</span>()
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>MonitoringStackBuilder</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span>           <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>prometheus</span>     <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>grafana</span>        <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>alertmanager</span>   <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>nodeExporter</span>   <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>namespace</span>      <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>storageSize</span>    <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>retentionTime</span>  <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewMonitoringStackBuilder</span>() <span style=color:#f92672>*</span><span style=color:#a6e22e>MonitoringStackBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>MonitoringStackBuilder</span>{
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>name</span>:          <span style=color:#e6db74>&#34;monitoring&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>prometheus</span>:    <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>grafana</span>:       <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>alertmanager</span>:  <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>nodeExporter</span>:  <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>namespace</span>:     <span style=color:#e6db74>&#34;monitoring&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>storageSize</span>:   <span style=color:#e6db74>&#34;10Gi&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>retentionTime</span>: <span style=color:#e6db74>&#34;15d&#34;</span>,
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>msb</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MonitoringStackBuilder</span>) <span style=color:#a6e22e>WithPrometheus</span>(<span style=color:#a6e22e>enabled</span> <span style=color:#66d9ef>bool</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>MonitoringStackBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>msb</span>.<span style=color:#a6e22e>prometheus</span> = <span style=color:#a6e22e>enabled</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>msb</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>msb</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MonitoringStackBuilder</span>) <span style=color:#a6e22e>WithGrafana</span>(<span style=color:#a6e22e>enabled</span> <span style=color:#66d9ef>bool</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>MonitoringStackBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>msb</span>.<span style=color:#a6e22e>grafana</span> = <span style=color:#a6e22e>enabled</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>msb</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>msb</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MonitoringStackBuilder</span>) <span style=color:#a6e22e>WithStorageSize</span>(<span style=color:#a6e22e>size</span> <span style=color:#66d9ef>string</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>MonitoringStackBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>msb</span>.<span style=color:#a6e22e>storageSize</span> = <span style=color:#a6e22e>size</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>msb</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>msb</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>MonitoringStackBuilder</span>) <span style=color:#a6e22e>Build</span>() (<span style=color:#f92672>*</span><span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>Node</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>nodeBuilder</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>NewNodeBuilder</span>(<span style=color:#a6e22e>msb</span>.<span style=color:#a6e22e>name</span>).
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>WithBundle</span>(<span style=color:#e6db74>&#34;monitoring&#34;</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>msb</span>.<span style=color:#a6e22e>prometheus</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>prometheusConfig</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>generators</span>.<span style=color:#a6e22e>NewPrometheusConfig</span>().
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>WithRetention</span>(<span style=color:#a6e22e>msb</span>.<span style=color:#a6e22e>retentionTime</span>).
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>WithStorageSize</span>(<span style=color:#a6e22e>msb</span>.<span style=color:#a6e22e>storageSize</span>).
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>Build</span>()
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>nodeBuilder</span>.<span style=color:#a6e22e>WithApplication</span>(<span style=color:#e6db74>&#34;prometheus&#34;</span>, <span style=color:#a6e22e>prometheusConfig</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>msb</span>.<span style=color:#a6e22e>grafana</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>grafanaConfig</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>generators</span>.<span style=color:#a6e22e>NewGrafanaConfig</span>().
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>WithPrometheusDataSource</span>(<span style=color:#a6e22e>msb</span>.<span style=color:#a6e22e>prometheus</span>).
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>Build</span>()
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>nodeBuilder</span>.<span style=color:#a6e22e>WithApplication</span>(<span style=color:#e6db74>&#34;grafana&#34;</span>, <span style=color:#a6e22e>grafanaConfig</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>msb</span>.<span style=color:#a6e22e>alertmanager</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>alertmanagerConfig</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>generators</span>.<span style=color:#a6e22e>NewAlertManagerConfig</span>().
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>Build</span>()
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>nodeBuilder</span>.<span style=color:#a6e22e>WithApplication</span>(<span style=color:#e6db74>&#34;alertmanager&#34;</span>, <span style=color:#a6e22e>alertmanagerConfig</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>nodeBuilder</span>.<span style=color:#a6e22e>Build</span>()
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h4 id=web-application-preset><strong>Web Application Preset</strong></h4><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>init</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>registry</span>.<span style=color:#a6e22e>Register</span>(<span style=color:#a6e22e>PresetTemplate</span>{
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Name</span>:        <span style=color:#e6db74>&#34;web-application&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Description</span>: <span style=color:#e6db74>&#34;Scalable web application with ingress and autoscaling&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Category</span>:    <span style=color:#e6db74>&#34;application&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Tags</span>:        []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;web&#34;</span>, <span style=color:#e6db74>&#34;frontend&#34;</span>, <span style=color:#e6db74>&#34;ingress&#34;</span>, <span style=color:#e6db74>&#34;autoscaling&#34;</span>},
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Builder</span>: <span style=color:#66d9ef>func</span>() <span style=color:#a6e22e>Builder</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>NewWebApplicationBuilder</span>()
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>WebApplicationBuilder</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span>          <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>         <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>replicas</span>      <span style=color:#66d9ef>int32</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>port</span>          <span style=color:#66d9ef>int32</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ingress</span>       <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>autoscaling</span>   <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>minReplicas</span>   <span style=color:#66d9ef>int32</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>maxReplicas</span>   <span style=color:#66d9ef>int32</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpuThreshold</span>  <span style=color:#66d9ef>int32</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>resources</span>     <span style=color:#f92672>*</span><span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceRequirements</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewWebApplicationBuilder</span>() <span style=color:#f92672>*</span><span style=color:#a6e22e>WebApplicationBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>WebApplicationBuilder</span>{
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>replicas</span>:     <span style=color:#ae81ff>3</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>port</span>:         <span style=color:#ae81ff>80</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ingress</span>:      <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>autoscaling</span>:  <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>minReplicas</span>:  <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>maxReplicas</span>:  <span style=color:#ae81ff>10</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cpuThreshold</span>: <span style=color:#ae81ff>70</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>resources</span>: <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceRequirements</span>{
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>Requests</span>: <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceList</span>{
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceCPU</span>:    <span style=color:#a6e22e>resource</span>.<span style=color:#a6e22e>MustParse</span>(<span style=color:#e6db74>&#34;100m&#34;</span>),
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceMemory</span>: <span style=color:#a6e22e>resource</span>.<span style=color:#a6e22e>MustParse</span>(<span style=color:#e6db74>&#34;128Mi&#34;</span>),
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>Limits</span>: <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceList</span>{
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceCPU</span>:    <span style=color:#a6e22e>resource</span>.<span style=color:#a6e22e>MustParse</span>(<span style=color:#e6db74>&#34;500m&#34;</span>),
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceMemory</span>: <span style=color:#a6e22e>resource</span>.<span style=color:#a6e22e>MustParse</span>(<span style=color:#e6db74>&#34;512Mi&#34;</span>),
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>wab</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>WebApplicationBuilder</span>) <span style=color:#a6e22e>WithImage</span>(<span style=color:#a6e22e>image</span> <span style=color:#66d9ef>string</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>WebApplicationBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>image</span> = <span style=color:#a6e22e>image</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>wab</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>wab</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>WebApplicationBuilder</span>) <span style=color:#a6e22e>WithReplicas</span>(<span style=color:#a6e22e>replicas</span> <span style=color:#66d9ef>int32</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>WebApplicationBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>replicas</span> = <span style=color:#a6e22e>replicas</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>wab</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>wab</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>WebApplicationBuilder</span>) <span style=color:#a6e22e>WithAutoscaling</span>(<span style=color:#a6e22e>enabled</span> <span style=color:#66d9ef>bool</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>WebApplicationBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>autoscaling</span> = <span style=color:#a6e22e>enabled</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>wab</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>wab</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>WebApplicationBuilder</span>) <span style=color:#a6e22e>WithIngress</span>(<span style=color:#a6e22e>enabled</span> <span style=color:#66d9ef>bool</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>WebApplicationBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>ingress</span> = <span style=color:#a6e22e>enabled</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>wab</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>wab</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>WebApplicationBuilder</span>) <span style=color:#a6e22e>Build</span>() (<span style=color:#f92672>*</span><span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>Application</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>appConfig</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>generators</span>.<span style=color:#a6e22e>NewAppWorkloadConfig</span>().
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>WithWorkload</span>(<span style=color:#e6db74>&#34;Deployment&#34;</span>).
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>WithImage</span>(<span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>image</span>).
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>WithReplicas</span>(<span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>replicas</span>).
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>WithPort</span>(<span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>port</span>).
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>WithResources</span>(<span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>resources</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>ingress</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>appConfig</span>.<span style=color:#a6e22e>WithIngress</span>(<span style=color:#66d9ef>true</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>autoscaling</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>appConfig</span>.<span style=color:#a6e22e>WithAutoscaling</span>(<span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>minReplicas</span>, <span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>maxReplicas</span>, <span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>cpuThreshold</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>NewApplication</span>(<span style=color:#a6e22e>wab</span>.<span style=color:#a6e22e>name</span>, <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#a6e22e>appConfig</span>.<span style=color:#a6e22e>Build</span>()), <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h3 id=template-inheritance-system><strong>Template Inheritance System</strong></h3><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>TemplateInheritance</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>baseTemplate</span>   <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>overrides</span>      <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{}
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mixins</span>         []<span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ApplicationTemplate</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Name</span>           <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Description</span>    <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>BaseTemplate</span>   <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DefaultConfig</span>  <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{}
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>RequiredFields</span> []<span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>OptionalFields</span> []<span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Mixins</span>         []<span style=color:#a6e22e>Mixin</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewApplicationFromTemplate</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>template</span> <span style=color:#a6e22e>ApplicationTemplate</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>ApplicationBuilder</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>builder</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>NewApplicationBuilder</span>(<span style=color:#a6e22e>name</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Apply base template configuration</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>BaseTemplate</span> <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#34;&#34;</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>baseTemplate</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>GetTemplate</span>(<span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>BaseTemplate</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>ApplyTemplate</span>(<span style=color:#a6e22e>baseTemplate</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Apply default configuration</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>key</span>, <span style=color:#a6e22e>value</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>DefaultConfig</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>SetProperty</span>(<span style=color:#a6e22e>key</span>, <span style=color:#a6e22e>value</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Apply mixins</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>mixin</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>template</span>.<span style=color:#a6e22e>Mixins</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>ApplyMixin</span>(<span style=color:#a6e22e>mixin</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>builder</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Base application template with security and monitoring defaults</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>BaseApplicationTemplate</span> = <span style=color:#a6e22e>ApplicationTemplate</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Name</span>:        <span style=color:#e6db74>&#34;base&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Description</span>: <span style=color:#e6db74>&#34;Base template with security and monitoring defaults&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DefaultConfig</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{}{
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;labels&#34;</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>{
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;managed-by&#34;</span>: <span style=color:#e6db74>&#34;kure&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;version&#34;</span>:    <span style=color:#e6db74>&#34;v1&#34;</span>,
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;securityContext&#34;</span>: <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>PodSecurityContext</span>{
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>RunAsNonRoot</span>: <span style=color:#a6e22e>pointer</span>.<span style=color:#a6e22e>Bool</span>(<span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>RunAsUser</span>:    <span style=color:#a6e22e>pointer</span>.<span style=color:#a6e22e>Int64</span>(<span style=color:#ae81ff>1000</span>),
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>FSGroup</span>:      <span style=color:#a6e22e>pointer</span>.<span style=color:#a6e22e>Int64</span>(<span style=color:#ae81ff>2000</span>),
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;resources&#34;</span>: <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceRequirements</span>{
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>Requests</span>: <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceList</span>{
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceCPU</span>:    <span style=color:#a6e22e>resource</span>.<span style=color:#a6e22e>MustParse</span>(<span style=color:#e6db74>&#34;100m&#34;</span>),
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceMemory</span>: <span style=color:#a6e22e>resource</span>.<span style=color:#a6e22e>MustParse</span>(<span style=color:#e6db74>&#34;128Mi&#34;</span>),
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>Limits</span>: <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceList</span>{
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceCPU</span>:    <span style=color:#a6e22e>resource</span>.<span style=color:#a6e22e>MustParse</span>(<span style=color:#e6db74>&#34;500m&#34;</span>),
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceMemory</span>: <span style=color:#a6e22e>resource</span>.<span style=color:#a6e22e>MustParse</span>(<span style=color:#e6db74>&#34;512Mi&#34;</span>),
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Mixins</span>: []<span style=color:#a6e22e>Mixin</span>{
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SecurityMixin</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>MonitoringMixin</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h3 id=mixin-system><strong>Mixin System</strong></h3><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Mixin</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Name</span>        <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Description</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Resources</span>   []<span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>Object</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Labels</span>      <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Annotations</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Apply</span>       <span style=color:#66d9ef>func</span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>ApplicationBuilder</span>) <span style=color:#66d9ef>error</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>SecurityMixin</span> = <span style=color:#a6e22e>Mixin</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Name</span>:        <span style=color:#e6db74>&#34;security&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Description</span>: <span style=color:#e6db74>&#34;Security best practices including network policies and pod security&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Apply</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>builder</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ApplicationBuilder</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Add security context</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>WithSecurityContext</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>PodSecurityContext</span>{
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>RunAsNonRoot</span>: <span style=color:#a6e22e>pointer</span>.<span style=color:#a6e22e>Bool</span>(<span style=color:#66d9ef>true</span>),
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>RunAsUser</span>:    <span style=color:#a6e22e>pointer</span>.<span style=color:#a6e22e>Int64</span>(<span style=color:#ae81ff>1000</span>),
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Add network policy</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>networkPolicy</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>kubernetes</span>.<span style=color:#a6e22e>CreateNetworkPolicy</span>(<span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>namespace</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>AddResource</span>(<span style=color:#a6e22e>networkPolicy</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Add pod security policy</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>podSecurityPolicy</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>kubernetes</span>.<span style=color:#a6e22e>CreatePodSecurityPolicy</span>(<span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>name</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>AddResource</span>(<span style=color:#a6e22e>podSecurityPolicy</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>MonitoringMixin</span> = <span style=color:#a6e22e>Mixin</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Name</span>:        <span style=color:#e6db74>&#34;monitoring&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Description</span>: <span style=color:#e6db74>&#34;Monitoring setup with service monitor and dashboards&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Apply</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>builder</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>ApplicationBuilder</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Add monitoring labels</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>WithLabels</span>(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>{
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;monitoring&#34;</span>: <span style=color:#e6db74>&#34;enabled&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;metrics&#34;</span>:    <span style=color:#e6db74>&#34;prometheus&#34;</span>,
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Add service monitor</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>serviceMonitor</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>prometheus</span>.<span style=color:#a6e22e>CreateServiceMonitor</span>(<span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>namespace</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>AddResource</span>(<span style=color:#a6e22e>serviceMonitor</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// Add grafana dashboard</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dashboard</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>grafana</span>.<span style=color:#a6e22e>CreateDashboard</span>(<span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>namespace</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>builder</span>.<span style=color:#a6e22e>AddResource</span>(<span style=color:#a6e22e>dashboard</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h3 id=environment-profiles><strong>Environment Profiles</strong></h3><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>EnvironmentProfile</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Name</span>          <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Description</span>   <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DefaultValues</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{}
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Transformers</span>  []<span style=color:#a6e22e>ProfileTransformer</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ProfileTransformer</span> <span style=color:#66d9ef>func</span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>Cluster</span>) <span style=color:#66d9ef>error</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>DevelopmentProfile</span> = <span style=color:#a6e22e>EnvironmentProfile</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Name</span>:        <span style=color:#e6db74>&#34;development&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Description</span>: <span style=color:#e6db74>&#34;Development environment with minimal resources and debugging enabled&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DefaultValues</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{}{
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;replicas&#34;</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>int32</span>{
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;frontend&#34;</span>: <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;backend&#34;</span>:  <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;database&#34;</span>: <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;resources&#34;</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceRequirements</span>{
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;frontend&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Requests</span>: <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceList</span>{
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceCPU</span>:    <span style=color:#a6e22e>resource</span>.<span style=color:#a6e22e>MustParse</span>(<span style=color:#e6db74>&#34;50m&#34;</span>),
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>corev1</span>.<span style=color:#a6e22e>ResourceMemory</span>: <span style=color:#a6e22e>resource</span>.<span style=color:#a6e22e>MustParse</span>(<span style=color:#e6db74>&#34;64Mi&#34;</span>),
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;debug&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Transformers</span>: []<span style=color:#a6e22e>ProfileTransformer</span>{
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>EnableDebugLogging</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>DisableAutoscaling</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>AddDevelopmentLabels</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ProductionProfile</span> = <span style=color:#a6e22e>EnvironmentProfile</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Name</span>:        <span style=color:#e6db74>&#34;production&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Description</span>: <span style=color:#e6db74>&#34;Production environment with high availability and performance&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>DefaultValues</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{}{
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;replicas&#34;</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>int32</span>{
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;frontend&#34;</span>: <span style=color:#ae81ff>3</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;backend&#34;</span>:  <span style=color:#ae81ff>5</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;database&#34;</span>: <span style=color:#ae81ff>3</span>,
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;autoscaling&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;monitoring&#34;</span>:  <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;security&#34;</span>:    <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Transformers</span>: []<span style=color:#a6e22e>ProfileTransformer</span>{
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>EnableAutoscaling</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>EnableMonitoring</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>EnableSecurityPolicies</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>SetProductionLabels</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>cluster</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>Cluster</span>) <span style=color:#a6e22e>ApplyProfile</span>(<span style=color:#a6e22e>profile</span> <span style=color:#a6e22e>EnvironmentProfile</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Apply default values</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>key</span>, <span style=color:#a6e22e>value</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>profile</span>.<span style=color:#a6e22e>DefaultValues</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cluster</span>.<span style=color:#a6e22e>SetProperty</span>(<span style=color:#a6e22e>key</span>, <span style=color:#a6e22e>value</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Apply transformers</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>transformer</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>profile</span>.<span style=color:#a6e22e>Transformers</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>transformer</span>(<span style=color:#a6e22e>cluster</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h3 id=configuration-validation-system><strong>Configuration Validation System</strong></h3><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ValidationLevel</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> (
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ValidationNone</span>   <span style=color:#a6e22e>ValidationLevel</span> = <span style=color:#e6db74>&#34;none&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ValidationBasic</span>  <span style=color:#a6e22e>ValidationLevel</span> = <span style=color:#e6db74>&#34;basic&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ValidationStrict</span> <span style=color:#a6e22e>ValidationLevel</span> = <span style=color:#e6db74>&#34;strict&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ValidationCustom</span> <span style=color:#a6e22e>ValidationLevel</span> = <span style=color:#e6db74>&#34;custom&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ValidationRule</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Name</span>        <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Description</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Level</span>       <span style=color:#a6e22e>ValidationLevel</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Check</span>       <span style=color:#66d9ef>func</span>(<span style=color:#66d9ef>interface</span>{}) <span style=color:#a6e22e>ValidationResult</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ValidationResult</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Valid</span>    <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Errors</span>   []<span style=color:#a6e22e>ValidationError</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Warnings</span> []<span style=color:#a6e22e>ValidationWarning</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Suggestions</span> []<span style=color:#a6e22e>ValidationSuggestion</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ValidationError</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Field</span>   <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Message</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Code</span>    <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Hint</span>    <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ClusterValidationRules</span> = []<span style=color:#a6e22e>ValidationRule</span>{
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Name</span>:        <span style=color:#e6db74>&#34;cluster-name-format&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Description</span>: <span style=color:#e6db74>&#34;Cluster name must follow Kubernetes naming conventions&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Level</span>:       <span style=color:#a6e22e>ValidationBasic</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Check</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>obj</span> <span style=color:#66d9ef>interface</span>{}) <span style=color:#a6e22e>ValidationResult</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>cluster</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>obj</span>.(<span style=color:#f92672>*</span><span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>Cluster</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>isValidKubernetesName</span>(<span style=color:#a6e22e>cluster</span>.<span style=color:#a6e22e>Name</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ValidationResult</span>{
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Valid</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Errors</span>: []<span style=color:#a6e22e>ValidationError</span>{{
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Field</span>:   <span style=color:#e6db74>&#34;name&#34;</span>,
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Message</span>: <span style=color:#e6db74>&#34;Invalid cluster name format&#34;</span>,
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Code</span>:    <span style=color:#e6db74>&#34;INVALID_NAME_FORMAT&#34;</span>,
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Hint</span>:    <span style=color:#e6db74>&#34;Name must be lowercase alphanumeric with hyphens&#34;</span>,
</span></span><span style=display:flex><span>                    }},
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ValidationResult</span>{<span style=color:#a6e22e>Valid</span>: <span style=color:#66d9ef>true</span>}
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Name</span>:        <span style=color:#e6db74>&#34;gitops-consistency&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Description</span>: <span style=color:#e6db74>&#34;GitOps configuration must be consistent across the cluster&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Level</span>:       <span style=color:#a6e22e>ValidationStrict</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Check</span>: <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>obj</span> <span style=color:#66d9ef>interface</span>{}) <span style=color:#a6e22e>ValidationResult</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>cluster</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>obj</span>.(<span style=color:#f92672>*</span><span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>Cluster</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>cluster</span>.<span style=color:#a6e22e>GitOps</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ValidationResult</span>{
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Valid</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Errors</span>: []<span style=color:#a6e22e>ValidationError</span>{{
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Field</span>:   <span style=color:#e6db74>&#34;gitops&#34;</span>,
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Message</span>: <span style=color:#e6db74>&#34;GitOps configuration is required&#34;</span>,
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Code</span>:    <span style=color:#e6db74>&#34;MISSING_GITOPS_CONFIG&#34;</span>,
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Hint</span>:    <span style=color:#e6db74>&#34;Add GitOps configuration with type &#39;flux&#39; or &#39;argocd&#39;&#34;</span>,
</span></span><span style=display:flex><span>                    }},
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ValidationResult</span>{<span style=color:#a6e22e>Valid</span>: <span style=color:#66d9ef>true</span>}
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>ValidateCluster</span>(<span style=color:#a6e22e>cluster</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>stack</span>.<span style=color:#a6e22e>Cluster</span>, <span style=color:#a6e22e>level</span> <span style=color:#a6e22e>ValidationLevel</span>) <span style=color:#a6e22e>ValidationResult</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>result</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ValidationResult</span>{<span style=color:#a6e22e>Valid</span>: <span style=color:#66d9ef>true</span>}
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>rule</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>ClusterValidationRules</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>rule</span>.<span style=color:#a6e22e>Level</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>level</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>ruleResult</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>rule</span>.<span style=color:#a6e22e>Check</span>(<span style=color:#a6e22e>cluster</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>ruleResult</span>.<span style=color:#a6e22e>Valid</span> {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>Valid</span> = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>Errors</span> = append(<span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>Errors</span>, <span style=color:#a6e22e>ruleResult</span>.<span style=color:#a6e22e>Errors</span><span style=color:#f92672>...</span>)
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>Warnings</span> = append(<span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>Warnings</span>, <span style=color:#a6e22e>ruleResult</span>.<span style=color:#a6e22e>Warnings</span><span style=color:#f92672>...</span>)
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>Suggestions</span> = append(<span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>Suggestions</span>, <span style=color:#a6e22e>ruleResult</span>.<span style=color:#a6e22e>Suggestions</span><span style=color:#f92672>...</span>)
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>result</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div><hr><h2 id=implementation-roadmap>Implementation Roadmap</h2><h3 id=phase-1-foundation-months-1-2><strong>Phase 1: Foundation (Months 1-2)</strong></h3><h4 id=core-builder-system><strong>Core Builder System</strong></h4><ul><li><input disabled type=checkbox> Implement fluent builder pattern for all stack components</li><li><input disabled type=checkbox> Create base template system with inheritance</li><li><input disabled type=checkbox> Add comprehensive validation framework</li><li><input disabled type=checkbox> Build configuration export/import functionality</li></ul><p><strong>Deliverables:</strong></p><ul><li>Fluent API for cluster construction</li><li>Basic validation system</li><li>Template registry infrastructure</li><li>Code generation utilities</li></ul><p><strong>Success Criteria:</strong></p><ul><li>80% reduction in boilerplate code for common configurations</li><li>Zero compilation errors for generated configurations</li><li>All existing Kure functionality accessible through builders</li></ul><h4 id=basic-presets><strong>Basic Presets</strong></h4><ul><li><input disabled type=checkbox> Monitoring stack preset (Prometheus + Grafana)</li><li><input disabled type=checkbox> Web application preset (Deployment + Service + Ingress)</li><li><input disabled type=checkbox> Database preset (StatefulSet + PVC + Service)</li><li><input disabled type=checkbox> Security baseline preset (RBAC + Network Policies)</li></ul><p><strong>Deliverables:</strong></p><ul><li>4 core preset templates</li><li>Template documentation and examples</li><li>Template testing framework</li></ul><p><strong>Success Criteria:</strong></p><ul><li>New users can deploy monitoring stack in &lt;5 minutes</li><li>Presets generate production-ready configurations</li><li>90% test coverage for all presets</li></ul><h3 id=phase-2-core-ui-components-months-3-4><strong>Phase 2: Core UI Components (Months 3-4)</strong></h3><h4 id=hierarchical-tree-interface><strong>Hierarchical Tree Interface</strong></h4><ul><li><input disabled type=checkbox> Tree component with expand/collapse functionality</li><li><input disabled type=checkbox> Context menus for add/edit/delete operations</li><li><input disabled type=checkbox> Property panel with dynamic form generation</li><li><input disabled type=checkbox> Real-time validation display</li></ul><p><strong>Deliverables:</strong></p><ul><li>React tree component library</li><li>Property editing system</li><li>Validation UI components</li><li>Tree state management</li></ul><p><strong>Success Criteria:</strong></p><ul><li>Users can navigate 100+ item trees smoothly</li><li>Property changes reflect immediately in tree</li><li>Validation errors visible within 100ms</li></ul><h4 id=configuration-wizard><strong>Configuration Wizard</strong></h4><ul><li><input disabled type=checkbox> Multi-step wizard component framework</li><li><input disabled type=checkbox> Dynamic step generation based on templates</li><li><input disabled type=checkbox> Progress tracking and branching logic</li><li><input disabled type=checkbox> Integration with builder system</li></ul><p><strong>Deliverables:</strong></p><ul><li>Wizard framework with step components</li><li>Template-driven step generation</li><li>Progress indicators and navigation</li><li>Builder integration layer</li></ul><p><strong>Success Criteria:</strong></p><ul><li>First-time users complete setup in &lt;10 minutes</li><li>&lt;5% abandonment rate in wizard flow</li><li>Generated configs match expert-created equivalents</li></ul><h3 id=phase-3-advanced-features-months-5-6><strong>Phase 3: Advanced Features (Months 5-6)</strong></h3><h4 id=visual-builder-interface><strong>Visual Builder Interface</strong></h4><ul><li><input disabled type=checkbox> Canvas component with drag-drop functionality</li><li><input disabled type=checkbox> Component palette with preset blocks</li><li><input disabled type=checkbox> Connection visualization and editing</li><li><input disabled type=checkbox> Layout algorithms for automatic arrangement</li></ul><p><strong>Deliverables:</strong></p><ul><li>Visual editor with drag-drop</li><li>Component connection system</li><li>Multiple layout algorithms</li><li>Export to tree/code views</li></ul><p><strong>Success Criteria:</strong></p><ul><li>Architects can design complex clusters visually</li><li>Generated diagrams suitable for documentation</li><li>Visual and code representations stay synchronized</li></ul><h4 id=code-editor-integration><strong>Code Editor Integration</strong></h4><ul><li><input disabled type=checkbox> Syntax-highlighted code editor</li><li><input disabled type=checkbox> Real-time compilation and validation</li><li><input disabled type=checkbox> Auto-completion for Kure APIs</li><li><input disabled type=checkbox> Bidirectional sync with visual editors</li></ul><p><strong>Deliverables:</strong></p><ul><li>Code editor with Kure syntax support</li><li>Auto-completion engine</li><li>Real-time error highlighting</li><li>Multi-format export (Go, YAML, JSON)</li></ul><p><strong>Success Criteria:</strong></p><ul><li>Power users prefer code editor for complex edits</li><li>Auto-completion reduces API lookup time by 70%</li><li>Code validation catches 95% of errors before compilation</li></ul><h3 id=phase-4-collaboration--polish-months-7-8><strong>Phase 4: Collaboration & Polish (Months 7-8)</strong></h3><h4 id=template-sharing--collaboration><strong>Template Sharing & Collaboration</strong></h4><ul><li><input disabled type=checkbox> Template marketplace with discovery</li><li><input disabled type=checkbox> Version control integration for templates</li><li><input disabled type=checkbox> Team sharing and permissions</li><li><input disabled type=checkbox> Template composition and inheritance</li></ul><p><strong>Deliverables:</strong></p><ul><li>Template marketplace UI</li><li>Git integration for template versioning</li><li>Team collaboration features</li><li>Template dependency management</li></ul><p><strong>Success Criteria:</strong></p><ul><li>50+ community-contributed templates</li><li>Teams share templates across projects</li><li>Template reuse reduces config time by 60%</li></ul><h4 id=documentation--onboarding><strong>Documentation & Onboarding</strong></h4><ul><li><input disabled type=checkbox> Interactive tutorials integrated in UI</li><li><input disabled type=checkbox> Context-sensitive help system</li><li><input disabled type=checkbox> Video tutorials and documentation</li><li><input disabled type=checkbox> Migration guides for existing users</li></ul><p><strong>Deliverables:</strong></p><ul><li>Interactive tutorial system</li><li>Comprehensive documentation site</li><li>Video tutorial library</li><li>Migration tooling</li></ul><p><strong>Success Criteria:</strong></p><ul><li>90% of new users complete onboarding successfully</li><li>Support ticket volume reduced by 40%</li><li>Documentation satisfaction score >4.5/5</li></ul><hr><h2 id=success-metrics>Success Metrics</h2><h3 id=primary-kpis><strong>Primary KPIs</strong></h3><h4 id=user-adoption-metrics><strong>User Adoption Metrics</strong></h4><ul><li><strong>Monthly Active Users</strong>: Target 500+ regular users within 6 months</li><li><strong>Template Usage</strong>: 70% of clusters created using presets/templates</li><li><strong>Completion Rate</strong>: 85% wizard completion rate for new users</li><li><strong>Retention</strong>: 60% user retention after 30 days</li></ul><h4 id=developer-experience-metrics><strong>Developer Experience Metrics</strong></h4><ul><li><strong>Time to First Success</strong>: &lt;10 minutes for new user to deploy working cluster</li><li><strong>Configuration Time</strong>: 50% reduction in time to configure complex clusters</li><li><strong>Error Rate</strong>: &lt;5% of generated configurations fail validation</li><li><strong>API Discovery</strong>: 80% of users discover new features through UI</li></ul><h4 id=quality-metrics><strong>Quality Metrics</strong></h4><ul><li><strong>Bug Reports</strong>: &lt;2 critical bugs per release</li><li><strong>Performance</strong>: UI responds to user actions in &lt;100ms</li><li><strong>Accessibility</strong>: WCAG 2.1 AA compliance</li><li><strong>Mobile</strong>: Basic functionality on tablet devices</li></ul><h3 id=secondary-kpis><strong>Secondary KPIs</strong></h3><h4 id=community-engagement><strong>Community Engagement</strong></h4><ul><li><strong>Template Contributions</strong>: 10+ community templates per month</li><li><strong>Documentation</strong>: 90% of features have up-to-date documentation</li><li><strong>Support</strong>: Average issue resolution time &lt;24 hours</li><li><strong>Feedback</strong>: >4.0/5 average satisfaction rating</li></ul><h4 id=technical-excellence><strong>Technical Excellence</strong></h4><ul><li><strong>Test Coverage</strong>: >90% code coverage for UI components</li><li><strong>Performance</strong>: &lt;1MB initial bundle size</li><li><strong>Compatibility</strong>: Support for latest 2 versions of major browsers</li><li><strong>Reliability</strong>: 99.9% uptime for hosted components</li></ul><h3 id=user-feedback-collection><strong>User Feedback Collection</strong></h3><h4 id=quantitative-methods><strong>Quantitative Methods</strong></h4><ol><li><strong>Analytics Tracking</strong>: User journey analysis, feature usage patterns</li><li><strong>A/B Testing</strong>: Interface variations, onboarding flows</li><li><strong>Performance Monitoring</strong>: Load times, error rates, user actions</li><li><strong>Survey Data</strong>: NPS scores, satisfaction ratings, feature requests</li></ol><h4 id=qualitative-methods><strong>Qualitative Methods</strong></h4><ol><li><strong>User Interviews</strong>: Monthly sessions with power users and beginners</li><li><strong>Usability Testing</strong>: Task-based testing with screen recording</li><li><strong>Support Ticket Analysis</strong>: Common issues and confusion points</li><li><strong>Community Feedback</strong>: GitHub issues, forum discussions</li></ol><h3 id=continuous-improvement-process><strong>Continuous Improvement Process</strong></h3><h4 id=weekly-reviews><strong>Weekly Reviews</strong></h4><ul><li>Performance metrics analysis</li><li>Bug triage and prioritization</li><li>User feedback review</li><li>Feature usage assessment</li></ul><h4 id=monthly-assessments><strong>Monthly Assessments</strong></h4><ul><li>User journey optimization</li><li>Feature success evaluation</li><li>Documentation gap analysis</li><li>Community engagement review</li></ul><h4 id=quarterly-planning><strong>Quarterly Planning</strong></h4><ul><li>Roadmap adjustment based on metrics</li><li>Major feature planning</li><li>User research planning</li><li>Technology stack evaluation</li></ul><hr><h2 id=conclusion>Conclusion</h2><p>This comprehensive UX design document outlines a path to transform Kure from a powerful but complex library into an accessible, multi-modal platform that serves users across the entire expertise spectrum. By implementing progressive disclosure, multi-modal interfaces, and intelligent configuration management, we can maintain Kure&rsquo;s technical excellence while dramatically improving its usability.</p><p>The success of this initiative will be measured not just in adoption metrics, but in the quality of Kubernetes configurations users create and the confidence they gain in managing complex infrastructure. Through careful implementation of the roadmap and continuous feedback collection, Kure can become the definitive tool for GitOps-native cluster configuration.</p><p><strong>Next Steps:</strong></p><ol><li>Validate design concepts with target users</li><li>Create detailed technical specifications for Phase 1</li><li>Begin implementation of core builder system</li><li>Establish user feedback collection processes</li><li>Start building community around template sharing</li></ol><hr><p><em>This document is a living specification that will evolve based on user feedback and implementation learnings.</em></p><footer class=footline></footer></article></div></main></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><a href=https://www.gokure.dev/ style=text-decoration:none><h1 style=margin:0;padding:1rem;color:var(--MENU-SECTIONS-ACTIVE-BG-color)>Go Kure</h1></a><div style="padding:0 1rem 1rem"><div style="background-color:rgba(255,193,7,.1);border:1px solid rgba(255,193,7,.3);border-radius:4px;padding:.75rem"><div style=display:flex;align-items:center;font-weight:700;color:#ffc107;margin-bottom:.25rem;font-size:.9rem><span style=margin-right:.5rem>‚ö†Ô∏è</span>
<span>Pre-Release</span></div><div style=font-size:.8rem;color:#ffeb3b;line-height:1.3>Unreleased software - APIs subject to change</div></div></div></div><search><form action=/search/index.html method=get><div class="searchbox default-animation"><button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></form></search></div><div id=R-homelinks class="default-animation homelinks"><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-homelinks"><ul class="space collapsible-menu"><li data-nav-id=/index.html><a class=padding href=/index.html><i class="fa-fw fas fa-home"></i> Home</a></li></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-headercontrols"><ul></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div></div><div id=R-content-wrapper class=highlightable><div class="R-sidebarmenu R-shortcutmenu-main"><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/overview/index.html><a class=padding href=/overview/index.html>Overview</a><ul id=R-subsections-0545e563276d3ac6e3218cfecf67a14b class=collapsible-menu></ul></li><li data-nav-id=/getting-started/index.html><a class=padding href=/getting-started/index.html>Getting Started</a><ul id=R-subsections-87c0363912f379e0725cbe1d504c985c class=collapsible-menu></ul></li><li class=parent data-nav-id=/architecture/index.html><a class=padding href=/architecture/index.html>Architecture</a><ul id=R-subsections-9e2fbae00589891720aedcdff0084e07 class=collapsible-menu><li data-nav-id=/architecture/details/index.html><a class=padding href=/architecture/details/index.html>Architecture Details</a></li><li data-nav-id=/architecture/plugin-design/index.html><a class=padding href=/architecture/plugin-design/index.html>Plugin Architecture</a></li><li class=active data-nav-id=/architecture/ux-design/index.html><a class=padding href=/architecture/ux-design/index.html>UX Design</a></li></ul></li><li data-nav-id=/packages/index.html><a class=padding href=/packages/index.html>Packages</a><ul id=R-subsections-bdf1e8ce92aa8ff6883c617f10480430 class=collapsible-menu></ul></li><li data-nav-id=/examples/index.html><a class=padding href=/examples/index.html>Examples</a><ul id=R-subsections-2e4187ca04853a7e1382c8d86f7be6fd class=collapsible-menu></ul></li><li data-nav-id=/reference/index.html><a class=padding href=/reference/index.html>Reference</a><ul id=R-subsections-66002f201bef818664bb81aa67490c58 class=collapsible-menu></ul></li><li data-nav-id=/development/index.html><a class=padding href=/development/index.html>Development</a><ul id=R-subsections-54b0ce3c97b111c8cd4d107325fd580c class=collapsible-menu></ul></li><li data-nav-id=/changelog/index.html><a class=padding href=/changelog/index.html>Changelog</a><ul id=R-subsections-d1977150cf385e06b32490e43a8e612b class=collapsible-menu></ul></li></ul></div><div class="R-sidebarmenu R-shortcutmenu-shortcuts"><ul class="space collapsible-menu"></ul></div><div id=R-footer-margin></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-footercontrols"><ul></ul></div><div id=R-footer><div style="position:sticky;bottom:0;padding:1rem;margin-top:2rem;background-color:rgba(255,193,7,.1);border:1px solid rgba(255,193,7,.3);border-top:3px solid #ffc107"><div style=display:flex;align-items:center;font-weight:700;color:#ffc107;margin-bottom:.5rem><span style=margin-right:.5rem>‚ö†Ô∏è</span>
<span>Pre-Release Software</span></div><div style=font-size:.875rem;color:#ffeb3b;line-height:1.4>This documentation is for unreleased software. Features and APIs may change before the official release.</div></div></div></div></aside><script src=/js/js-yaml/js-yaml.min.js?1770891668 defer></script><script src=/js/d3/d3-color.min.js?1770891668 defer></script><script src=/js/d3/d3-dispatch.min.js?1770891668 defer></script><script src=/js/d3/d3-drag.min.js?1770891668 defer></script><script src=/js/d3/d3-ease.min.js?1770891668 defer></script><script src=/js/d3/d3-interpolate.min.js?1770891668 defer></script><script src=/js/d3/d3-selection.min.js?1770891668 defer></script><script src=/js/d3/d3-timer.min.js?1770891668 defer></script><script src=/js/d3/d3-transition.min.js?1770891668 defer></script><script src=/js/d3/d3-zoom.min.js?1770891668 defer></script><script src=/js/mermaid/mermaid.min.js?1770891668 defer></script><script>window.relearn.themeUseMermaid=JSON.parse("{}")</script><script src=/js/clipboard/clipboard.min.js?1770891668 defer></script><script src=/js/perfect-scrollbar/perfect-scrollbar.min.js?1770891668 defer></script><script src=/js/theme.min.js?1770891668 defer></script></body></html>